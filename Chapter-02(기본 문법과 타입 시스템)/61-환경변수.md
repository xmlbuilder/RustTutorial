# í™˜ê²½ ë³€ìˆ˜

âœ… ëŒ€ì•ˆ 1: config í¬ë ˆì´íŠ¸ (ì¶”ì²œ)
- ë‹¤ì–‘í•œ í¬ë§· ì§€ì›: .json, .toml, .yaml, .ini
- .propertiesëŠ” ì§ì ‘ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ êµ¬ì¡°ê°€ ë¹„ìŠ·í•œ .ini ë˜ëŠ” .tomlë¡œ ëŒ€ì²´ ê°€ëŠ¥

```
# Cargo.toml
[dependencies]
config = "0.13"
```

```rust
use config::{Config, File};

fn main() {
    let settings = Config::builder()
        .add_source(File::with_name("Settings")) // Settings.toml ë˜ëŠ” Settings.ini
        .build()
        .unwrap();

    let username: String = settings.get("username").unwrap();
    println!("Username: {}", username);
}
```

```rust

   #[test]
    fn test_config_mem()
    {
        let settings = Config::builder()
            .add_source(config::File::from_str(
                r#"
            username = "junghwan"
            theme = "dark"
            "#,
                config::FileFormat::Toml,
            ))
            .build()
            .unwrap();

        let username: String = settings.get("username").unwrap();
        println!("Username: {}", username);

    }
```



## âœ… ëŒ€ì•ˆ 2: ì§ì ‘ .properties íŒŒì‹±
.properties íŒŒì¼ì€ ë‹¨ìˆœí•œ key=value í˜•ì‹ì´ë¯€ë¡œ, Rustì˜ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì§ì ‘ íŒŒì‹±í•  ìˆ˜ ìˆìŒ:
```rust
use std::fs::File;
use std::io::{BufRead, BufReader};
use std::collections::HashMap;

fn load_properties(path: &str) -> HashMap<String, String> {
    let file = File::open(path).expect("íŒŒì¼ ì—´ê¸° ì‹¤íŒ¨");
    let reader = BufReader::new(file);
    let mut map = HashMap::new();

    for line in reader.lines() {
        if let Ok(line) = line {
            if let Some((key, value)) = line.split_once('=') {
                map.insert(key.trim().to_string(), value.trim().to_string());
            }
        }
    }

    map
}

fn main() {
    let props = load_properties("config.properties");
    if let Some(username) = props.get("username") {
        println!("Username: {}", username);
    }
}
```

## ğŸ“Œ Rustì—ì„œ Java `Properties` ìœ ì‚¬ ê¸°ëŠ¥ ìš”ì•½

| ê¸°ëŠ¥ ìœ í˜•               | Rustì—ì„œì˜ êµ¬í˜„ ë˜ëŠ” ëŒ€ì•ˆ í¬ë ˆì´íŠ¸             |
|--------------------------|-----------------------------------------------|
| `.properties` íŒŒì¼ íŒŒì‹±  | `split_once` + `HashMap`ìœ¼ë¡œ ì§ì ‘ êµ¬í˜„         |
| ì„¤ì • íŒŒì¼ í†µí•© ê´€ë¦¬      | [`config`](https://docs.rs/config/latest/config/) í¬ë ˆì´íŠ¸ (TOML, JSON, YAML ë“± ì§€ì›) |
| ì‹œìŠ¤í…œ í™˜ê²½ ë³€ìˆ˜ ì¡°íšŒ    | `std::env::var`, `std::env::vars()`            |

---


# ğŸ§  1. ìì²´ í™˜ê²½ ë³€ìˆ˜ (std::env)
Rust í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ std::env ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ OS í™˜ê²½ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŒ.

## âœ… ì£¼ìš” ë©”ì„œë“œ ìš”ì•½: std::env

| ë©”ì„œë“œ                        | ì„¤ëª… |
|------------------------------|------|
| `env::var("KEY")`            | í™˜ê²½ ë³€ìˆ˜ `KEY`ì˜ ê°’ì„ ê°€ì ¸ì˜´ â†’ `Result<String, VarError>` ë°˜í™˜ |
| `env::vars()`                | ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ì˜ `(key, value)` ìŒì„ ë°˜ë³µìë¡œ ë°˜í™˜ |
| `env::set_var("KEY", "VALUE")` | ëŸ°íƒ€ì„ ì¤‘ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì—ë§Œ ì ìš©) |
| `env::remove_var("KEY")`     | í™˜ê²½ ë³€ìˆ˜ ì œê±° (í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì—ì„œë§Œ ì œê±°ë¨) |

## âœ… ì˜ˆì œ
```rust
use std::env;

fn main() {
    env::set_var("APP_MODE", "debug");

    if let Ok(mode) = env::var("APP_MODE") {
        println!("ì•± ëª¨ë“œ: {}", mode);
    }

    for (key, value) in env::vars() {
        println!("{} = {}", key, value);
    }
}
```

ğŸ“Œ í™˜ê²½ ë³€ìˆ˜ëŠ” ìš´ì˜ì²´ì œ ìˆ˜ì¤€ì—ì„œ ì„¤ì •ë˜ê±°ë‚˜, ì‹¤í–‰ ì‹œ ì»¤ë§¨ë“œë¼ì¸ì—ì„œ ì§€ì •í•  ìˆ˜ ìˆìŒ:
```
APP_MODE=release cargo run
```

## ğŸ“¦ 2. .env íŒŒì¼ ê¸°ë°˜ ì„¤ì •: dotenvy í¬ë ˆì´íŠ¸
.env íŒŒì¼ì€ í™˜ê²½ ë³€ìˆ˜ë“¤ì„ íŒŒì¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë°©ì‹.   
dotenvyëŠ” ì´ë¥¼ Rustì—ì„œ ì‰½ê²Œ ë¡œë”©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” í¬ë ˆì´íŠ¸ì…ë‹ˆë‹¤.

### âœ… ì„¤ì¹˜
```
# Cargo.toml
[dependencies]
dotenvy = "0.15"
```

### âœ… .env íŒŒì¼ ì˜ˆì‹œ
```
APP_MODE=debug
DATABASE_URL=postgres://user:pass@localhost/db
```

### âœ… ì‚¬ìš© ì˜ˆì œ
```rust
use dotenvy::dotenv;
use std::env;

fn main() {
    dotenv().ok(); // .env íŒŒì¼ ë¡œë”©

    let mode = env::var("APP_MODE").unwrap_or("default".to_string());
    println!("ì•± ëª¨ë“œ: {}", mode);
}
```

- dotenv() í˜¸ì¶œ ì‹œ .env íŒŒì¼ì„ ì½ê³  std::envì— ë“±ë¡
- ì´í›„ì—ëŠ” env::var()ë¡œ ì¼ë°˜ í™˜ê²½ ë³€ìˆ˜ì²˜ëŸ¼ ì ‘ê·¼ ê°€ëŠ¥

## ğŸ“Œ ìš”ì•½ ë¹„êµ
### ğŸ“Œ Rust í™˜ê²½ ì„¤ì • ë°©ì‹ ë¹„êµ

| ë°©ì‹             | ì„¤ëª… |
|------------------|------|
| `std::env`       | OS í™˜ê²½ ë³€ìˆ˜ ì§ì ‘ ì ‘ê·¼ ë° ì„¤ì • |
| `dotenvy` í¬ë ˆì´íŠ¸ | `.env` íŒŒì¼ì„ ë¡œë”©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ë¡œ ë“±ë¡ |

---



