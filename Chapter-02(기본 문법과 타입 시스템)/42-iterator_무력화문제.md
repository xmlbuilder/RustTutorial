# iterator ë¬´ë ¥í™” ë¬¸ì œ
C++ì˜ std::vectorë‚˜ std::mapì—ì„œ ìˆœíšŒ ì¤‘ì— ìš”ì†Œë¥¼ ì‚­ì œí•˜ë©´ iteratorê°€ ë¬´ë ¥í™”ë˜ê±°ë‚˜ undefined behaviorê°€ ë°œìƒí•˜ëŠ” ë¬¸ì œ,
RustëŠ” ì´ê±¸ ì–¸ì–´ êµ¬ì¡°ì™€ ì•ˆì „ì„± ëª¨ë¸ë¡œ ì›ì²œì ìœ¼ë¡œ ì°¨ë‹¨.

## ğŸ”¥ C++ STLì˜ ë¬¸ì œì 
| ì»¨í…Œì´ë„ˆ        | ì‚­ì œ ë°©ì‹             | ë¬¸ì œì  ë° ì£¼ì˜ì‚¬í•­                                      |
|-----------------|-----------------------|---------------------------------------------------------|
| vector          | vec.erase(it); it++   | `it`ê°€ ë¬´íš¨í™”ë¨ â†’ ë‹¤ìŒ ìš”ì†Œ ì ‘ê·¼ ì‹œ undefined behavior ê°€ëŠ¥ì„± |
| map             | map.erase(it++)       | ì¼ë¶€ êµ¬í˜„ì—ì„œëŠ” ì•ˆì „í•˜ì§€ë§Œ, ìˆœíšŒ íë¦„ì´ ë³µì¡í•´ì§€ê³  ì‹¤ìˆ˜ ìœ ë°œ ê°€ëŠ¥ |
| set             | set.erase(it++)       | `map`ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ, ì—¬ì „íˆ iterator ë¬´íš¨í™” ì£¼ì˜ í•„ìš”       |
| unordered_map   | erase(it++)           | ë‚´ë¶€ í•´ì‹œ êµ¬ì¡°ë¡œ ì¸í•´ iterator ë¬´íš¨í™” ê°€ëŠ¥ì„± ë” ë†’ìŒ       |
| list            | list.erase(it++)      | ë¹„êµì  ì•ˆì „í•˜ì§€ë§Œ, ìˆœíšŒ íë¦„ì´ ê¼¬ì¼ ìˆ˜ ìˆìŒ                 |

C++ì€ ì´ëŸ° ë¬¸ì œë¥¼ ê°œë°œì ì±…ì„ìœ¼ë¡œ ë°©ì¹˜í•˜ê³  ìˆìŒ.
ê·¸ë˜ì„œ â€œì˜ ì“°ë©´ ê´œì°®ì§€ë§Œ, ì‹¤ìˆ˜í•˜ë©´ ì¹˜ëª…ì â€ì¸ êµ¬ì¡°.

## ğŸ›¡ï¸ Rustì˜ ì ‘ê·¼ ë°©ì‹: ì•ˆì „ì´ ê¸°ë³¸ê°’
RustëŠ” ì´ëŸ° ë¬¸ì œë¥¼ ì»´íŒŒì¼ íƒ€ì„ì— ì›ì²œì ìœ¼ë¡œ ë§‰ìŠµë‹ˆë‹¤.
### 1. ì†Œìœ ê¶Œê³¼ ë¹Œë¦¼ ì‹œìŠ¤í…œ
- Vec, HashMap ë“±ì—ì„œ ìˆœíšŒ ì¤‘ì— ìš”ì†Œë¥¼ ì‚­ì œí•˜ë ¤ë©´ mutable iteratorë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•¨
- ë™ì‹œì— ì½ê³  ì“°ëŠ” ê±´ ë¶ˆê°€ëŠ¥ â†’ ì»´íŒŒì¼ ì—ëŸ¬
### 2. retain() ë°©ì‹ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì‚­ì œ
```rust
let mut v = vec![1, 2, 3, 4, 5];
v.retain(|&x| x != 3); // âœ… ì•ˆì „í•˜ê²Œ ì¡°ê±´ ê¸°ë°˜ ì‚­ì œ
```

- ë‚´ë¶€ì ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬ë˜ë©° iterator ë¬´íš¨í™” ì—†ìŒ
### 3. drain()ìœ¼ë¡œ ì‚­ì œ + ìˆœíšŒ
```rust
fn main() {
    let mut numbers = vec![10, 15, 20, 25, 30];

    // 20ë³´ë‹¤ í° ê°’ë§Œ ì œê±°í•˜ë©´ì„œ ì¶œë ¥
    for removed in numbers.drain_filter(|x| *x > 20) {
        println!("ì‚­ì œëœ ê°’: {}", removed);
    }

    println!("ë‚¨ì€ ê°’: {:?}", numbers);
}
```

- drain()ì€ ìš”ì†Œë¥¼ ì œê±°í•˜ë©´ì„œë„ ì†Œìœ ê¶Œì„ ë„˜ê²¨ì£¼ê¸° ë•Œë¬¸ì— ì•ˆì „
### 4. into_iter()ëŠ” ì†Œë¹„ ê¸°ë°˜
- into_iter()ëŠ” ì»¬ë ‰ì…˜ì„ ì†Œë¹„í•˜ë©´ì„œ ìˆœíšŒ â†’ ì‚­ì œì™€ ì¶©ëŒ ì—†ìŒ

## ğŸ§  í•µì‹¬ ì² í•™
â€œìˆœíšŒ ì¤‘ì— ì‚­ì œí•˜ê³  ì‹¶ìœ¼ë©´, ê·¸ ì˜ë„ë¥¼ ëª…í™•íˆ í‘œí˜„í•˜ê³ , ì»´íŒŒì¼ëŸ¬ê°€ ê·¸ê±¸ ì•ˆì „í•˜ê²Œ ë³´ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.â€


## ğŸ” ì˜ˆì‹œ: HashMapì—ì„œ ì‚­ì œ
```rust
use std::collections::HashMap;

let mut map = HashMap::new();
map.insert("a", 1);
map.insert("b", 2);

let keys_to_remove: Vec<_> = map.iter()
    .filter(|(_, &v)| v == 2)
    .map(|(k, _)| *k)
    .collect();

for k in keys_to_remove {
    map.remove(k); // âœ… ì•ˆì „í•˜ê²Œ ì‚­ì œ
}
```

- ìˆœíšŒ ì¤‘ ì‚­ì œëŠ” ë³„ë„ì˜ í‚¤ ëª©ë¡ì„ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬
- iterator ë¬´íš¨í™” ì—†ìŒ, ì»´íŒŒì¼ëŸ¬ê°€ ì•ˆì „ì„± ë³´ì¥

## ğŸ’¡ ê²°ë¡ 
RustëŠ” C++ì´ â€œê°œë°œì ì±…ì„â€ìœ¼ë¡œ ë„˜ê¸´ iterator ë¬´íš¨í™” ë¬¸ì œë¥¼ ì–¸ì–´ ì°¨ì›ì—ì„œ êµ¬ì¡°ì ìœ¼ë¡œ ë§‰ì•„ë²„ë¦¬ëŠ” ì–¸ì–´.

---

