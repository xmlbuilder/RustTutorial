# 중첩 구조 표현
## ✅ Rust에서 중첩 구조를 표현하는 방식
Rust에서는 중첩 클래스를 대신해 모듈 안에 구조체를 정의하거나, 구조체 안에 다른 구조체를 필드로 포함하는 방식으로 표현합니다.

### 예시: 구조체 안에 구조체 포함
```rust
struct Outer {
    value: i32,
    inner: Inner,
}

struct Inner {
    data: String,
}

impl Inner {
    fn print(&self) {
        println!("Inner data: {}", self.data);
    }
}

fn main() {
    let inner = Inner { data: String::from("Hello") };
    let outer = Outer { value: 42, inner };
    outer.inner.print();
}
```


### 예시: 모듈 기반 중첩 구조
```rust
mod outer {
    pub struct Outer {
        pub value: i32,
    }

    pub mod nested {
        pub struct Nested {
            pub data: String,
        }

        impl Nested {
            pub fn show(&self) {
                println!("Nested data: {}", self.data);
            }
        }
    }
}

fn main() {
    let outer = outer::Outer { value: 10 };
    let nested = outer::nested::Nested { data: String::from("Rust!") };
    nested.show();
}
```

## 🧩 핵심 요약
- Rust에는 중첩 클래스는 없지만, 모듈과 구조체를 조합하여 유사한 구조를 만들 수 있음
- 내부 클래스처럼 바깥 구조체의 필드에 접근하려면 명시적 참조가 필요함
- Rust는 명확하고 안전한 설계를 우선시하며, 암묵적인 소속 관계보다는 구조적 명시성을 강조함

---

## Nested에서 Outer 데이터에 접근 할 수 없음
Rust는 다음과 같은 원칙을 따릅니다:
- ✅ 명시적 참조가 필요: 바깥 구조체의 데이터를 사용하려면 반드시 참조를 전달해야 함
- ❌ 암묵적 소속 관계 없음: Java/Kotlin의 inner class처럼 자동으로 바깥 인스턴스를 참조하지 않음
- ✅ 구조체는 독립적: 중첩되어 있어도 구조적으로 연결되지 않음

## 🔍 예시: 접근 불가 구조
```rust
struct Outer {
    value: i32,
    nested: Nested,
}

struct Nested;

impl Nested {
    fn show(&self) {
        // println!("{}", value); // ❌ 컴파일 에러: Outer의 필드에 접근 불가
    }
}
```
- Nested는 Outer 내부에 선언되었더라도 value에 접근할 수 없습니다. Outer의 참조가 없기 때문이에요.


## ✅ 해결 방법: 명시적 참조 전달
```rust
struct Outer {
    value: i32,
    nested: Nested,
}

struct Nested;

impl Nested {
    fn show(&self, outer: &Outer) {
        println!("Outer value: {}", outer.value); // ✅ 명시적 참조로 접근
    }
}

fn main() {
    let outer = Outer {
        value: 42,
        nested: Nested,
    };

    outer.nested.show(&outer);
}
```
- Nested::show() 메서드에 &Outer를 인자로 전달함으로써 바깥 데이터에 접근할 수 있어요.

## 🧩 핵심 요약 (Rust 기준)
| 항목                     | 설명                                                                 |
|--------------------------|----------------------------------------------------------------------|
| 중첩 클래스 없음         | Rust에는 클래스가 없고, 중첩 클래스 개념도 없음                        |
| 구조체는 독립적          | 구조체는 바깥 구조체와 연결되지 않으며, 내부 구조체처럼 동작하지 않음     |
| 바깥 데이터 접근 방식     | 바깥 구조체의 필드에 접근하려면 명시적으로 참조를 전달해야 함             |
| 모듈 기반 캡슐화         | 중첩 구조는 `mod`를 통해 모듈 단위로 캡슐화함                            |
| 안전성과 명확성 우선     | 암묵적 참조보다 명시적 설계와 안전한 접근을 우선함                        |

---





