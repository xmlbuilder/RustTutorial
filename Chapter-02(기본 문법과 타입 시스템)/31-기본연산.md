# ğŸ”¢ Rust ìˆ«ì ê¸°ë³¸ ì—°ì‚° ì´ì •ë¦¬

## 0) í•œëˆˆì— ë³´ëŠ” ì—°ì‚°ì
| ë¶„ë¥˜ | ì—°ì‚°ì | ì„¤ëª… |
|---|---|---|
| ì‚°ìˆ  | `+  -  *  /  %` | ë”í•˜ê¸°, ë¹¼ê¸°, ê³±í•˜ê¸°, ë‚˜ëˆ„ê¸°, ë‚˜ë¨¸ì§€ |
| ë³µí•©ëŒ€ì… | `+=  -=  *=  /=  %=` | ìœ„ ì—°ì‚° + ëŒ€ì… |
| ë¹„êµ | `==  !=  <  <=  >  >=` | ë¹„êµ ê²°ê³¼ëŠ” `bool` |
| ë¹„íŠ¸(ì •ìˆ˜) | `&  \|  ^  <<  >>  &=  \|=  ^=  <<=  >>=` | AND/OR/XOR/ì‹œí”„íŠ¸ |

> ìš°ì„ ìˆœìœ„: `* / %` ê°€ `+ -` ë³´ë‹¤ ë¨¼ì € ê³„ì‚°ë©ë‹ˆë‹¤. í•„ìš” ì‹œ `()`ë¡œ ëª…ì‹œí•˜ì„¸ìš”.

---

## 1) ê¸°ë³¸ ì˜ˆì œ (ì •ìˆ˜/ì‹¤ìˆ˜ ì„ì–´ ë³´ê¸°)

```rust
fn main() {
    // ë”í•˜ê¸°
    let add = 3 + 8;                // i32 ê¸°ë³¸

    // ë¹¼ê¸°
    let sub = 26.5 - 2.1;           // f64 ê¸°ë³¸

    // ê³±í•˜ê¸°
    let mul = 7 * 20;               // i32

    // ë‚˜ëˆ„ê¸°
    let quotient_f = 12.0 / 3.0;    // 4.0 (ì‹¤ìˆ˜ ë‚˜ëˆ—ì…ˆ)
    let quotient = 12.0 / 3.14;     // 3.821...

    // ì •ìˆ˜ ë‚˜ëˆ—ì…ˆì€ 0ìª½ìœ¼ë¡œ ì ˆì‚­(truncate)
    let truncated = 7 / 5;          // 1 (i32 / i32)

    // ë‚˜ë¨¸ì§€
    let remainder = 46 % 5;         // 1

    println!("add={add}, sub={sub}, mul={mul}");
    println!("quotient_f={quotient_f}, quotient={quotient}");
    println!("truncated={truncated}, remainder={remainder}");
}
```

## 2) ì •ìˆ˜ vs ì‹¤ìˆ˜ ë‚˜ëˆ—ì…ˆ
```rust 
fn main() {
    let a = 7 / 5;       // 1 (ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ: ì ˆì‚­)
    let b = 7.0 / 5.0;   // 1.4 (ì‹¤ìˆ˜)
    println!("{a}, {b}");
}
```

ì •ìˆ˜/ì •ìˆ˜ëŠ” í•­ìƒ ì •ìˆ˜ë¡œ, ì†Œìˆ˜ì  ì´í•˜ëŠ” ë²„ë ¤ì§‘ë‹ˆë‹¤(0 ìª½ìœ¼ë¡œ ì ˆì‚­).

ì‹¤ìˆ˜ë¥¼ ì–»ê³  ì‹¶ë‹¤ë©´ í”¼ì—°ì‚°ì ì¤‘ í•˜ë‚˜ ì´ìƒì„ ì‹¤ìˆ˜ë¡œ ë‘ .
ì˜ˆ: 7 as f64 / 5.0 ë˜ëŠ” 7.0 / 5.0

### 3) 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸°
```rust
fn main() {
    // ì •ìˆ˜: ëŸ°íƒ€ì„ panic!
    // let _bad = 1 / 0;

    // ì‹¤ìˆ˜: IEEE-754
    let inf = 1.0 / 0.0;    // +inf
    let neg_inf = -1.0 / 0.0; // -inf
    let nan = 0.0 / 0.0;    // NaN

    println!("{}, {}, {}", inf.is_infinite(), neg_inf.is_infinite(), nan.is_nan());
}
```

- ì •ìˆ˜ ë‚˜ëˆ—ì…ˆì—ì„œ 0 â†’ panic
- ì‹¤ìˆ˜ ë‚˜ëˆ—ì…ˆì—ì„œ 0 â†’ inf, -inf, NaN ë“± ì •ì˜ëœ ê°’

### 4) ë‚˜ë¨¸ì§€(%)ì™€ ìŒìˆ˜, ìœ í´ë¦¬ë“œ ë‚˜ëˆ—ì…ˆ

Rustì˜ %ëŠ” remainder(ë‚˜ë¨¸ì§€) ì—°ì‚°ì´ë©°, ë¶€í˜¸ëŠ” ì™¼ìª½ í”¼ì—°ì‚°ìë¥¼ ë”°ë¦…ë‹ˆë‹¤.
```rust
fn main() {
    let a =  7 % 5;   // 2
    let b = -7 % 5;   // -2  (ë¶€í˜¸ëŠ” ì™¼ìª½ í”¼ì—°ì‚°ì, ì¦‰ -7)
    println!("{a}, {b}");

    // í•­ìƒ 0..b-1 ë²”ìœ„ì˜ "ì–‘ì˜" ë‚˜ë¨¸ì§€ê°€ í•„ìš”í•˜ë©´ rem_euclid ì‚¬ìš©
    let e1 =  7i32.rem_euclid(5);   // 2
    let e2 = -7i32.rem_euclid(5);   // 3  (í•­ìƒ 0..4)
    println!("{e1}, {e2}");
}
```

ì§ê¶ ë©”ì„œë“œì¸ div_euclid/rem_euclidë¡œ í•­ìƒ ì–‘ì˜ ë‚˜ë¨¸ì§€ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 5) ì˜¤ë²„í”Œë¡œ(Overflow)ì™€ ì•ˆì „í•œ ëŒ€ì•ˆë“¤

ë””ë²„ê·¸ ë¹Œë“œ: ì˜¤ë²„í”Œë¡œ ì‹œ panic
ë¦´ë¦¬ìŠ¤ ë¹Œë“œ: 2ì˜ ë³´ìˆ˜ ë˜í•‘(wrap-around)ë¡œ ë™ì‘
ì›í•˜ëŠ” ì •ì±…ì„ ëª…ì‹œì  ë©”ì„œë“œë¡œ ê³ ë¥´ëŠ” ê²Œ ì•ˆì „í•©ë‹ˆë‹¤.

```rust
fn main() {
    let max = i8::MAX; // 127

    // 1) checked_*: None ë°˜í™˜
    assert_eq!(max.checked_add(1), None);

    // 2) saturating_*: ìƒí•œ/í•˜í•œì—ì„œ í¬í™”
    assert_eq!(max.saturating_add(1), i8::MAX);

    // 3) wrapping_*: 2ì˜ ë³´ìˆ˜ë¡œ ê°ê¹€
    assert_eq!(max.wrapping_add(1), i8::MIN); // 127 + 1 -> -128

    // 4) overflowing_*: (ê°’, ì˜¤ë²„í”Œë¡œ ì—¬ë¶€)
    assert_eq!(max.overflowing_add(1), (i8::MIN, true));
}
```
### 6) ê±°ë“­ì œê³±Â·ì ˆëŒ“ê°’Â·ìµœì†Ÿê°’Â·ìµœëŒ“ê°’Â·í´ë¨í”„
```rust
fn main() {
    // ì •ìˆ˜ ê±°ë“­ì œê³±
    let p_i = 2i32.pow(10);      // 1024

    // ì‹¤ìˆ˜ ê±°ë“­ì œê³±
    let p_f = 2.0_f64.powi(10);  // 1024.0
    let p_ff = 9.0_f64.powf(0.5); // 3.0 (ì œê³±ê·¼)

    let v = -42;
    println!("abs = {}", v.abs());
    println!("min = {}", 3.min(10));
    println!("max = {}", 3.max(10));
    println!("clamp = {}", 123.clamp(0, 100)); // â†’ 100
}
```

### 7) ë³µí•© ëŒ€ì…ê³¼ ìš°ì„ ìˆœìœ„
```rust
fn main() {
    let mut x = 10;
    x += 3;    // 13
    x *= 2;    // 26
    x %= 7;    // 5
    println!("{x}");

    // ìš°ì„ ìˆœìœ„ ì˜ˆì‹œ: *, /, % ê°€ +, - ë³´ë‹¤ ë¨¼ì €
    let a = 1 + 2 * 3;      // 7
    let b = (1 + 2) * 3;    // 9
    println!("{a}, {b}");
}
```

### 8) íƒ€ì…Â·ë¦¬í„°ëŸ´Â·ìºìŠ¤íŒ… íŒ

ê¸°ë³¸ íƒ€ì… ì¶”ë¡ : ì •ìˆ˜ i32, ì‹¤ìˆ˜ f64
ì ‘ë¯¸ì‚¬ë¡œ íƒ€ì… ì§€ì •: 42u8, 42i64, 2.5f32
ê°€ë…ì„±ìš© êµ¬ë¶„ì: 1_000_000, 0b1010_1100
í˜• ë³€í™˜: asëŠ” ë‹¨ìˆœ ìºìŠ¤íŒ…(ì˜ë¦¼ ê°€ëŠ¥). ì•ˆì „í•œ ë³€í™˜ì€ TryFrom/TryIntoë¥¼ ê³ ë ¤.
```rust
fn main() {
    let a: u8 = 255;
    let b = a as i16;        // 255ë¡œ ì•ˆì „ (í™•ì¥)
    let c = 300u16 as u8;    // 44ë¡œ ì˜ë¦¼ (ì£¼ì˜)

    use std::convert::TryFrom;
    let ok: u8 = u8::try_from(200).unwrap();        // ì•ˆì „
    let err = u8::try_from(300).err().unwrap();     // ë³€í™˜ ì‹¤íŒ¨ ì¡ê¸°
    println!("{b}, {ok}, {:?}", err);
}
```

### 9) í•œ íŒŒì¼ì— í•µì‹¬ ë°ëª¨ ë¬¶ê¸°
```rust
fn main() {
    // 1) ê¸°ë³¸
    let add = 3 + 8;               // 11
    let sub = 26.5 - 2.1;          // 24.4
    let mul = 7 * 20;              // 140
    let qf = 12.0 / 3.14;          // â‰ˆ 3.821
    let ti = 7 / 5;                // 1 (ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ)
    let r = 46 % 5;                // 1

    // 2) ì •ìˆ˜/ì‹¤ìˆ˜ ë‚˜ëˆ—ì…ˆ
    let int_div = 7 / 5;           // 1
    let float_div = 7.0 / 5.0;     // 1.4

    // 3) ë‚˜ë¨¸ì§€ & ìœ í´ë¦¬ë“œ
    let rem_neg = -7 % 5;          // -2
    let rem_euclid = (-7).rem_euclid(5); // 3

    // 4) ì˜¤ë²„í”Œë¡œ ì œì–´
    let wrap = i8::MAX.wrapping_add(1);     // -128 (wrap-around)
    let sat  = i8::MAX.saturating_add(1);   // 127 (ìµœëŒ“ê°’ ìœ ì§€)
    let chk  = i8::MAX.checked_add(1).is_none(); // true (ì˜¤ë²„í”Œë¡œ ê°ì§€)

    // 5) ìˆ˜í•™ ë„ìš°ë¯¸
    let pow_i = 2i32.pow(10);      // 1024
    let pow_f = 9.0f64.powf(0.5);  // 3.0 (ì œê³±ê·¼)
    let clamped = 123.clamp(0, 100); // 100 (ìµœëŒ“ê°’ìœ¼ë¡œ ì œí•œë¨)


    println!("add={add}, sub={sub}, mul={mul}, qf={qf}");
    println!("ti={ti}, int_div={int_div}, float_div={float_div}");
    println!("r={r}, rem_neg={rem_neg}, rem_euclid={rem_euclid}");
    println!("wrap={wrap}, sat={sat}, checked_overflow?={chk}");
    println!("pow_i={pow_i}, pow_f={pow_f}, clamp={clamped}");
}
```
### ì¶œë ¥ ê²°ê³¼
```
add=11, sub=24.4, mul=140, qf=3.821
ti=1, int_div=1, float_div=1.4
r=1, rem_neg=-2, rem_euclid=3
wrap=-128, sat=127, checked_overflow?=true
pow_i=1024, pow_f=3.0, clamp=100

```


## Wrapping ì—°ì‚° ê²°ê³¼ ë¹„êµ (i8 vs u8)

| íƒ€ì…  | ìµœëŒ€ê°’ (`MAX`) | ì—°ì‚°                     | ê²°ê³¼ê°’  | ì„¤ëª…                         |
|-------|----------------|--------------------------|---------|------------------------------|
| i8    | 127            | `i8::MAX.wrapping_add(1)`| -128    | 127 + 1 â†’ 128 â†’ ë²”ìœ„ ì´ˆê³¼ â†’ 2ì˜ ë³´ìˆ˜ í•´ì„ ê²°ê³¼ -128 |
| u8    | 255            | `u8::MAX.wrapping_add(1)`| 0       | 255 + 1 â†’ 256 â†’ 256 mod 256 = 0 |

---


## ğŸ” ì½”ë“œ ë¶„ì„
```rust
let e2 = -7i32.rem_euclid(5);  // ê²°ê³¼: 3
```

- -7ì„ 5ë¡œ ë‚˜ëˆˆ ìœ í´ë¦¬ë“œ ë‚˜ë¨¸ì§€ë¥¼ ê³„ì‚°
- rem_euclid()ëŠ” í•­ìƒ ê²°ê³¼ê°€ 0..(divisor-1) ë²”ìœ„ì— ìˆë„ë¡ ë³´ì¥

## âš™ï¸ ì¼ë°˜ ë‚˜ë¨¸ì§€ `%` vs ìœ í´ë¦¬ë“œ ë‚˜ë¨¸ì§€ `rem_euclid()`

| ì—°ì‚° ë°©ì‹       | í‘œí˜„ì‹               | ê²°ê³¼ | ì„¤ëª…                                      |
|----------------|----------------------|-------|-------------------------------------------|
| ì¼ë°˜ ë‚˜ë¨¸ì§€ `%` | `-7 % 5`             | `-2`  | ìŒìˆ˜ ê²°ê³¼ ê°€ëŠ¥. ë°©í–¥ì€ í”¼ì œìˆ˜(`-7`) ê¸°ì¤€ |
| ìœ í´ë¦¬ë“œ ë‚˜ë¨¸ì§€ | `-7.rem_euclid(5)`   | `3`   | í•­ìƒ ì–‘ìˆ˜ ê²°ê³¼. ê²°ê³¼ëŠ” `0..(divisor-1)` ë²”ìœ„ |

## ğŸ”§ ì™œ 3ì´ ë˜ëŠ”ê°€?
ìœ í´ë¦¬ë“œ ë‚˜ë¨¸ì§€ì˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŒ:  
**ê³µì‹:**
```
â€ƒâ€ƒa mod b = ((a % b) + b) % b
```

**ì˜ˆì‹œ:**
```
â€ƒâ€ƒ-7 mod 5 = ((-7 % 5) + 5) % 5  
â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ= (-2 + 5) % 5  
â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ= 3
```

```mermaid
flowchart TD
    A["Start: a = -7, b = 5"] --> B["Step 1: -7 % 5 = -2"]
    B --> C["Step 2: (-2 + 5) % 5 = 3"]
    C --> D["Result: -7 mod 5 = 3"]
```

## âœ… rem_euclidì˜ íŠ¹ì§•
- í•­ìƒ ì–‘ìˆ˜ ê²°ê³¼ë¥¼ ë°˜í™˜
- ìˆ˜í•™ì  ëª¨ë“ˆë¡œ ì—°ì‚°ì— ì í•©
- ë°˜ë³µ êµ¬ì¡°ë‚˜ ë°°ì—´ ì¸ë±ìŠ¤ ê³„ì‚°ì— ìœ ìš©

### ğŸ’¡ ì‹¤ìš© ì˜ˆì‹œ
```rust
let index = (-7).rem_euclid(5); // ë°°ì—´ ì¸ë±ìŠ¤ì²˜ëŸ¼ 0~4 ë²”ìœ„ë¡œ ë³´ì •
```
- â¡ï¸ ìŒìˆ˜ ì¸ë±ìŠ¤ë¥¼ ì–‘ìˆ˜ë¡œ ë³€í™˜í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.

---

## âš ï¸ i8::MAX + 1ì˜ ë™ì‘
```rust
let x = i8::MAX + 1; // ì»´íŒŒì¼ëŸ¬ê°€ ì—ëŸ¬
```

### ì—ëŸ¬ ë©”ì‹œì§€
```
error: this arithmetic operation will overflow
 --> src\main.rs:7:13
  |
7 |     let x = i8::MAX + 1;
  |             ^^^^^^^^^^^ attempt to compute `i8::MAX + 1_i8`, which would overflow
  |
```

- i8::MAXëŠ” 127ì´ê³ , i8ì˜ ë²”ìœ„ëŠ” -128 ~ 127
- 127 + 1 = 128ì€ i8 íƒ€ì…ì—ì„œ í‘œí˜„ ë¶ˆê°€ëŠ¥í•œ ê°’
- **ë””í´íŠ¸ ë¹Œë“œ ëª¨ë“œ(debug)** ì—ì„œëŠ” ì»´íŒŒì¼ ì—ëŸ¬
- release ëª¨ë“œì—ì„œë„ ì»´íŒŒì¼ ì—ëŸ¬
- `#[allow(arithmetic_overflow)]` ë¡œ ë¬´ì‹œí•˜ê³  ì»´íŒŒì¼ í•  ìˆ˜ ìˆìŒ  -128ë¡œ ì¶œë ¥ë¨
```
error: this arithmetic operation will overflow                                                                                                                                                                                     
 --> src\main.rs:7:13
  |
7 |     let x = i8::MAX + 1;
  |             ^^^^^^^^^^^ attempt to compute `i8::MAX + 1_i8`, which would overflow
  |
  = note: `#[deny(arithmetic_overflow)]` on by default
```

### âš ï¸ i8::MAX + 1ì˜ ë™ì‘ ìš”ì•½

| í•­ëª©                  | ì„¤ëª… ë˜ëŠ” ê²°ê³¼                         |
|-----------------------|----------------------------------------|
| `i8::MAX`             | 127                                    |
| `i8::MAX + 1`         | í‘œí˜„ ë¶ˆê°€ (i8 ë²”ìœ„: -128 ~ 127)        |
| ê¸°ë³¸ ì„¤ì •             | `#[deny(arithmetic_overflow)]` â†’ ì»´íŒŒì¼ ì—ëŸ¬ |
| í—ˆìš© ì„¤ì •             | `#[allow(arithmetic_overflow)]`        |
| ì‹¤í–‰ ê²°ê³¼             | -128 (wrap-around ë°œìƒ)                |


### âœ… ì˜ˆì‹œ ì½”ë“œ
```rust
#[allow(arithmetic_overflow)]
fn main() {
    let x = i8::MAX + 1;
    println!("x = {}", x); // ì¶œë ¥: x = -128
}
```
---


