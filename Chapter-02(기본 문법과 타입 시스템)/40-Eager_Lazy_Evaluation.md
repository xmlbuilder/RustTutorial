
# ğŸ¦€ Rust: ì¦‰ì‹œ vs ì§€ì—° ì‹¤í–‰
## âœ… ì¦‰ì‹œ ì‹¤í–‰: collect(), for ë£¨í”„, count(), sum() ë“±
- collect()ëŠ” iteratorë¥¼ ì†Œë¹„í•˜ë©° ê²°ê³¼ë¥¼ ì¦‰ì‹œ ë©”ëª¨ë¦¬ì— ì €ì¥
- for ë£¨í”„ë„ iteratorë¥¼ ì†Œë¹„í•˜ë©° ì¦‰ì‹œ ì‹¤í–‰ë¨
- ì´ ì‹œì ë¶€í„°ëŠ” ë” ì´ìƒ lazyê°€ ì•„ë‹˜
```rust
let v = vec![1, 2, 3, 4, 5];
let doubled: Vec<_> = v.iter().map(|x| x * 2).collect(); // ì¦‰ì‹œ ì‹¤í–‰
```
- map()ì€ lazyì§€ë§Œ collect()ê°€ í˜¸ì¶œë˜ë©´ì„œ ëª¨ë“  ìš”ì†Œê°€ ê³„ì‚°ë¨

## ğŸ’¤ ì§€ì—° ì‹¤í–‰: iter(), map(), filter() ë“±
- Iterator ì²´ì¸ì€ lazyí•˜ê²Œ êµ¬ì„±ë¨
- collect()ë‚˜ for ë£¨í”„ ë“± **ì†Œë¹„ì(consuming adaptor)**ê°€ í˜¸ì¶œë˜ê¸° ì „ê¹Œì§€ëŠ” ì•„ë¬´ ê²ƒë„ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
```rust
let lazy = (1..10)
    .filter(|x| x % 2 == 0)
    .map(|x| x * 3); // ì•„ì§ ì‹¤í–‰ ì•ˆ ë¨

for val in lazy {
    println!("{}", val); // ì´ ì‹œì ì— ê³„ì‚°ë¨
}
```
- filterì™€ mapì€ í•„ìš”í•  ë•Œë§ˆë‹¤ í•œ ìš”ì†Œì”© ê³„ì‚°
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì´ê³  ê³„ì‚° ì§€ì—° ê°€ëŠ¥

## ğŸ§  í•µì‹¬ ìš”ì•½: Rustì˜ Iterator ì‹¤í–‰ ë°©ì‹
| í‘œí˜„                    | ì‹¤í–‰ ì‹œì        | ì„¤ëª…                                       |
|-------------------------|------------------|--------------------------------------------|
| `collect()`             | âœ… ì¦‰ì‹œ ì‹¤í–‰     | ëª¨ë“  ìš”ì†Œë¥¼ ê³„ì‚°í•˜ê³  ì»¬ë ‰ì…˜ìœ¼ë¡œ ì €ì¥í•¨     |
| `for` ë£¨í”„              | âœ… ì¦‰ì‹œ ì‹¤í–‰     | ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ê³„ì‚°í•˜ë©° ì†Œë¹„í•¨              |
| `iter()`, `map()`, `filter()` | âŒ ì§€ì—° ì‹¤í–‰ | ì†Œë¹„ìê°€ í˜¸ì¶œë˜ê¸° ì „ê¹Œì§€ ê³„ì‚°ë˜ì§€ ì•ŠìŒ     |



## ğŸ’¡ ì‹¤ë¬´ íŒ
- ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œì—ëŠ” lazy iteratorë¡œ ë©”ëª¨ë¦¬ ì ˆì•½ ê°€ëŠ¥
- í•„í„°ë§ í›„ ì¼ë¶€ë§Œ ì‚¬ìš©í•  ê²½ìš° take(), find() ë“±ê³¼ í•¨ê»˜ lazyí•˜ê²Œ ì²˜ë¦¬
- collect()ëŠ” ê²°ê³¼ë¥¼ ì €ì¥í•´ì•¼ í•  ë•Œë§Œ ì‚¬ìš©

---

# ğŸ” C++: ì¦‰ì‹œ vs ì§€ì—° ì‹¤í–‰
## âœ… ì¦‰ì‹œ ì‹¤í–‰
- std::vector, std::map, std::set ë“± STL ì»¨í…Œì´ë„ˆëŠ” ì¦‰ì‹œ ì‹¤í–‰
- std::transform, std::copy, std::accumulate ë“±ì€ ì¦‰ì‹œ ê²°ê³¼ ìƒì„±
```cpp
std::vector<int> v = {1, 2, 3, 4, 5};
std::vector<int> doubled;
std::transform(v.begin(), v.end(), std::back_inserter(doubled), [](int x) { return x * 2; });
```

â†’ ëª¨ë“  ê²°ê³¼ê°€ ì¦‰ì‹œ ê³„ì‚°ë˜ì–´ doubledì— ì €ì¥ë¨

## âœ… ì§€ì—° ì‹¤í–‰ (Lazy Evaluation)
- C++20ë¶€í„° ranges ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì§€ì—° ì‹¤í–‰ ê°€ëŠ¥
- views::transform, views::filter ë“±ì€ lazy
```cpp
#include <ranges>
auto lazy_view = std::views::iota(1, 10)
               | std::views::filter([](int x) { return x % 2 == 0; })
               | std::views::transform([](int x) { return x * 3; });
```

â†’ lazy_viewëŠ” ì‹¤ì œë¡œ ë°˜ë³µí•  ë•Œë§Œ ê³„ì‚°ë¨


## ë‹¨ê³„ë³„ ì‹¤í–‰ ì ˆì°¨
ì•„ë˜ëŠ” C++20ì˜ std::rangesë¥¼ í™œìš©í•œ lazy_viewë¥¼ main í•¨ìˆ˜ì—ì„œ í˜¸ì¶œí•˜ê³  ê²°ê³¼ê°€ ì²˜ë¦¬ë˜ëŠ” ë°©ì‹ì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•œ ì˜ˆì œ.

## âœ… ì „ì²´ ì½”ë“œ ì˜ˆì‹œ
```cpp
#include <iostream>
#include <ranges>

int main() {
    auto lazy_view = std::views::iota(1, 10)
                   | std::views::filter([](int x) { return x % 2 == 0; })
                   | std::views::transform([](int x) { return x * 3; });

    for (int val : lazy_view) {
        std::cout << val << " ";
    }
    std::cout << std::endl;
}
```

## ğŸ” ì‹¤í–‰ íë¦„ ì„¤ëª…
### 1. std::views::iota(1, 10)
- ìƒì„±: 1, 2, 3, ..., 9 â†’ lazy range (ì•„ì§ ê³„ì‚° ì•ˆ ë¨)
### 2. filter: x % 2 == 0
- ì¡°ê±´: ì§ìˆ˜ë§Œ í†µê³¼ â†’ 2, 4, 6, 8
### 3. transform: x * 3
- ë³€í™˜: 6, 12, 18, 24
### 4. for ë£¨í”„ì—ì„œ ê°’ êº¼ë‚¼ ë•Œë§ˆë‹¤
- iota â†’ filter â†’ transform â†’ val ìƒì„±
- í•˜ë‚˜ì”© ê³„ì‚°ë¨ (lazy evaluation)

### ğŸ§  ê²°ê³¼ ì¶œë ¥
```
6 12 18 24
```

## âœ… í•µì‹¬ ìš”ì•½
| ë‹¨ê³„         | ì„¤ëª…                                      |
|--------------|-------------------------------------------|
| ì„ ì–¸         | `lazy_view`ëŠ” ê³„ì‚°ë˜ì§€ ì•Šì€ íŒŒì´í”„ë¼ì¸       |
| ë°˜ë³µ ì‹œì‘    | `for` ë£¨í”„ì—ì„œ ê°’ í•˜ë‚˜ì”© êº¼ë‚¼ ë•Œ ê³„ì‚° ì‹œì‘   |
| ì²˜ë¦¬ íë¦„    | `iota` â†’ `filter` â†’ `transform` â†’ ì¶œë ¥       |
| ì‹¤í–‰ ì‹œì     | ë°˜ë³µìê°€ ìš”ì²­ë  ë•Œë§ˆë‹¤ ì§€ì—° ì‹¤í–‰ë¨           |


## ğŸ§  ìš”ì•½ ë¹„êµ
| ì–¸ì–´   | ì¦‰ì‹œ ì‹¤í–‰ ì˜ˆì‹œ                        | ì§€ì—° ì‹¤í–‰ ì˜ˆì‹œ                             |
|--------|----------------------------------------|---------------------------------------------|
| Rust   | `.collect()`                           | `.iter().map().filter()`                    |
| C++    | `std::vector`, `std::transform`        | `std::views::transform`, `std::views::filter` |

---

# Iterator êµ¬í˜„ / peekable, fuse, inspect
Rustì˜ IteratorëŠ” lazyí•˜ê²Œ ë™ì‘í•˜ë©°, next() í˜¸ì¶œì„ í†µí•´ í•˜ë‚˜ì”© ê°’ì„ ìƒì„±í•©ë‹ˆë‹¤.  
ê³ ê¸‰ ì–´ëŒ‘í„°ì¸ peekable, fuse, inspectëŠ” ì´ íë¦„ì„ ì œì–´í•˜ê±°ë‚˜ í™•ì¥í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

## ğŸ” Iteratorì˜ ë‚´ë¶€ ë™ì‘ê³¼ next() íë¦„
- ëª¨ë“  IteratorëŠ” next() ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.
- next()ëŠ” Option<Item>ì„ ë°˜í™˜í•˜ë©°, Some(value) ë˜ëŠ” Noneìœ¼ë¡œ ë°˜ë³µ ì¢…ë£Œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- for ë£¨í”„, collect(), find() ë“±ì€ ë‚´ë¶€ì ìœ¼ë¡œ next()ë¥¼ ë°˜ë³µ í˜¸ì¶œí•©ë‹ˆë‹¤.
```rust
let mut iter = vec![1, 2, 3].into_iter();
while let Some(val) = iter.next() {
    println!("{}", val); // 1, 2, 3 ì¶œë ¥
}
```


## ğŸ§  ê³ ê¸‰ ì–´ëŒ‘í„° ì„¤ëª…
### 1ï¸âƒ£ peekable()
- ë‹¤ìŒ ê°’ì„ **ë¯¸ë¦¬ í™•ì¸(peek)**í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì–´ëŒ‘í„°
- peek()ì€ ê°’ì„ ì†Œë¹„í•˜ì§€ ì•Šê³  ì°¸ì¡°ë§Œ ë°˜í™˜
```rust
let mut iter = [1, 2, 3].iter().peekable();
println!("{:?}", iter.peek()); // Some(&1)
println!("{:?}", iter.next()); // Some(1)
```

- ì—¬ëŸ¬ ë²ˆ peek()í•´ë„ next()ê°€ í˜¸ì¶œë˜ê¸° ì „ê¹Œì§€ëŠ” ê°’ì´ ìœ ì§€ë¨

### 2ï¸âƒ£ fuse()
- ë°˜ë³µìê°€ Noneì„ ë°˜í™˜í•œ ì´í›„ì—ë„ ê³„ì† Noneë§Œ ë°˜í™˜í•˜ë„ë¡ ê³ ì •ì‹œí‚´
- ì¼ë¶€ ë°˜ë³µìëŠ” None ì´í›„ì—ë„ ë‹¤ì‹œ Someì„ ë°˜í™˜í•  ìˆ˜ ìˆëŠ”ë°, ì´ë¥¼ ë°©ì§€
```rust
let mut iter = [1].iter().fuse();
println!("{:?}", iter.next()); // Some(1)
println!("{:?}", iter.next()); // None
println!("{:?}", iter.next()); // None (ë³´ì¥ë¨)
```

- ì‹¤ë¬´ì—ì„œëŠ” Iteratorë¥¼ ì—¬ëŸ¬ ë²ˆ ì†Œë¹„í•  ë•Œ ì•ˆì „í•˜ê²Œ ì“°ê¸° ìœ„í•´ ì‚¬ìš©

### 3ï¸âƒ£ inspect()
- ê° ìš”ì†Œë¥¼ ì¤‘ê°„ì— ì—¿ë³´ê³ (side-effect) ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ
- ë””ë²„ê¹…, ë¡œê¹…, í†µê³„ ìˆ˜ì§‘ ë“±ì— ìœ ìš©
```rust
let v: Vec<_> = (1..5)
    .inspect(|x| println!("ì²˜ë¦¬ ì¤‘: {}", x))
    .map(|x| x * 2)
    .collect();
```

- inspect()ëŠ” ê°’ì„ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©°, ì²´ì¸ ì¤‘ê°„ì— ë¼ì›Œ ë„£ì„ ìˆ˜ ìˆìŒ

## ğŸ“Œ ì‹¤ì „ íŒ
- peekable()ì€ íŒŒì„œ êµ¬í˜„ì´ë‚˜ ì¡°ê±´ë¶€ ë°˜ë³µì— ìœ ìš©
- fuse()ëŠ” ë°˜ë³µìê°€ ì˜ˆì™¸ì ìœ¼ë¡œ Someì„ ë‹¤ì‹œ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì— ì•ˆì „ë§ ì—­í• 
- inspect()ëŠ” ë¡œê¹…ì´ë‚˜ ë””ë²„ê¹…ì— ë§¤ìš° ìœ ìš©í•˜ë©°, ì„±ëŠ¥ì— í° ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ


## âœ… 1. Iterator ì§ì ‘ êµ¬í˜„í•˜ê¸°
Rustì—ì„œ Iteratorë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë ¤ë©´ trait Iteratorë¥¼ êµ¬í˜„í•˜ê³  next() ë©”ì„œë“œë¥¼ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
### ğŸ”§ ì˜ˆì œ: 0ë¶€í„° ì‹œì‘í•˜ëŠ” ì§ìˆ˜ ìƒì„±ê¸°
```rust
struct EvenNumbers {
    current: usize,
}

impl Iterator for EvenNumbers {
    type Item = usize;

    fn next(&mut self) -> Option<Self::Item> {
        let result = self.current;
        self.current += 2;
        Some(result)
    }
}

fn main() {
    let mut evens = EvenNumbers { current: 0 };
    for n in evens.take(5) {
        println!("{}", n); // 0, 2, 4, 6, 8
    }
}
```

- next()ëŠ” í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ê°’ì„ ë°˜í™˜
- take(5)ëŠ” ì²˜ìŒ 5ê°œë§Œ ê°€ì ¸ì˜¤ëŠ” ì–´ëŒ‘í„°

## ğŸ” 2. ë°˜ë³µ ì œì–´ ì–´ëŒ‘í„°ë“¤
### ğŸ”¹ step_by(n)
- ì§€ì •í•œ ê°„ê²©ìœ¼ë¡œ ê±´ë„ˆë›°ë©° ë°˜ë³µ
```rust
for i in (0..10).step_by(2) {
    println!("{}", i); // 0, 2, 4, 6, 8
}
```


### ğŸ”¹ enumerate()
- ê° ìš”ì†Œì— ì¸ë±ìŠ¤ë¥¼ ë¶™ì—¬ (index, value) íŠœí”Œë¡œ ë°˜í™˜
```rust
for (i, val) in ["a", "b", "c"].iter().enumerate() {
    println!("{}: {}", i, val);
}
```


### ğŸ”¹ zip()
- ë‘ ê°œì˜ iteratorë¥¼ ë³‘ë ¬ë¡œ ë¬¶ì–´ (a, b) íŠœí”Œë¡œ ë°˜í™˜
```rust
let names = ["JungHwan", "Minji"];
let scores = [95, 88];

for (name, score) in names.iter().zip(scores.iter()) {
    println!("{}: {}", name, score);
}
```


###  ğŸ”¹ cycle()
```rust
- ë°˜ë³µìë¥¼ ë¬´í•œíˆ ë°˜ë³µ
for val in [1, 2, 3].iter().cycle().take(7) {
    println!("{}", val); // 1, 2, 3, 1, 2, 3, 1
}
```

- take()ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì›í•˜ëŠ” ê°œìˆ˜ë§Œ ë°˜ë³µ ê°€ëŠ¥

## ğŸ§  ì‹¤ì „ íŒ
- Iterator ì§ì ‘ êµ¬í˜„ì€ ì»¤ìŠ¤í…€ ë¡œì§ì´ í•„ìš”í•œ ê²½ìš° ìœ ìš©
- zipì€ ì—¬ëŸ¬ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ë•Œ
- enumerateëŠ” ì¸ë±ìŠ¤ ê¸°ë°˜ ì²˜ë¦¬ì— í•„ìˆ˜
- cycleì€ ì• ë‹ˆë©”ì´ì…˜, UI, ê²Œì„ ë£¨í”„ ë“±ì—ì„œ ë°˜ë³µ íš¨ê³¼ì— í™œìš©

---



