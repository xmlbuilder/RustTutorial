# N basis

NURBS ê³¡ì„ ì€ Bezierì™€ B-Splineì„ ì¼ë°˜í™”í•œ í˜•íƒœì´ë©°,  
ì´í•­ ê³„ìˆ˜(Binomial)ì™€ NURBSì˜ N basis í•¨ìˆ˜ëŠ” ëª¨ë‘ ê³¡ì„ ì˜ í˜•íƒœë¥¼ ì œì–´í•˜ëŠ” ìˆ˜í•™ì  ë„êµ¬ì…ë‹ˆë‹¤.  
ì´ ë‘˜ì€ ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ê³¡ì„ ì„ êµ¬ì„±í•˜ì§€ë§Œ, í•µì‹¬ ì›ë¦¬ëŠ” **ì œì–´ì  Ã— ê°€ì¤‘ì¹˜ í•¨ìˆ˜** ë¼ëŠ” ì ì—ì„œ ì—°ê²°ë©ë‹ˆë‹¤.

## ğŸ§© ì „ì²´ êµ¬ì¡°: Bezier â†’ B-Spline â†’ NURBS

| ê³¡ì„  ì¢…ë¥˜   | ì •ì˜ ë°©ì‹                                      | íŠ¹ì§•                                      | ìˆ˜í•™ì  ê¸°ë°˜                     |
|-------------|------------------------------------------------|-------------------------------------------|----------------------------------|
| Bezier      | Bernstein ë‹¤í•­ì‹: $\sum \binom{n}{i}(1-t)^{n-i}t^i P_i$ | ì „ì²´ ì œì–´ì ì´ ê³¡ì„  ì „ì²´ì— ì˜í–¥ì„ ì¤Œ       | ì´í•­ ê³„ìˆ˜, ë‹¤í•­ì‹                |
| B-Spline    | N basis í•¨ìˆ˜: ì¬ê·€ì  ì •ì˜                       | êµ­ì†Œ ì œì–´ ê°€ëŠ¥. ê³¡ì„  ì¼ë¶€ë§Œ ì œì–´ì ì— ë°˜ì‘ | ë¶„í•  ì •ì˜, Knot vector, ì¬ê·€     |
| NURBS       | Rational B-Spline: $\frac{w_i N_{i,k}(u)}{\sum w_j N_{j,k}(u)}$ | ê°€ì¤‘ì¹˜ ê¸°ë°˜. ì›í˜• ë“± ì •í™•í•œ ê³¡ì„  í‘œí˜„ ê°€ëŠ¥ | B-Spline + ê°€ì¤‘ì¹˜ (Rational)     |



## ğŸ“ Bezier ê³¡ì„ ê³¼ Binomialì˜ ê´€ê³„
- Bezier ê³¡ì„ ì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë¨:

$$
B(t)=\sum _{i=0}^n{n \choose i}(1-t)^{n-i}t^iP_i
$$

- ì—¬ê¸°ì„œ ${n \choose i}$ ëŠ” ì´í•­ ê³„ìˆ˜, ê³¡ì„ ì˜ í˜•íƒœë¥¼ ê²°ì •í•˜ëŠ” ê°€ì¤‘ì¹˜ ì—­í• 
- Bernstein basis: ${n \choose i}(1-t)^{n-i}t^i$

## ğŸ“ B-Splineê³¼ N basis í•¨ìˆ˜
- B-Splineì€ N basis í•¨ìˆ˜ë¡œ ì •ì˜ë¨:

$$
\begin{aligned}
N_{i,0}(u) &=
\begin{cases}
1, & u_i \le u < u_{i+1},\\
0, & \text{otherwise},
\end{cases}
N_{i,k}(u) &= 
\frac{u - u_i}{\,u_{i+k} - u_i\,}\,N_{i,k-1}(u)
+ 
\frac{u_{i+k+1} - u}{\,u_{i+k+1} - u_{i+1}\,}\,N_{i+1,k-1}(u).
\end{aligned}
$$

- ì¬ê·€ì  ì •ì˜ë¡œ ì¸í•´ êµ­ì†Œ ì œì–´ê°€ ê°€ëŠ¥
- Knot vectorì— ë”°ë¼ ê³¡ì„ ì˜ í˜•íƒœê°€ ê²°ì •ë¨

## ğŸ“ NURBSì™€ N basis í•¨ìˆ˜ì˜ ì—°ê²°
- NURBSëŠ” B-Splineì„ í™•ì¥í•œ í˜•íƒœ:

$$
R_{i,k}(u)=\frac{w_iN_{i,k}(u)}{\sum _jw_jN_{j,k}(u)}
$$

- ì—¬ê¸°ì„œ:
- $N_{i,k}(u)$: B-Spline basis
- $w_i$: ì œì–´ì ì˜ ê°€ì¤‘ì¹˜
- Rational í‘œí˜„ ë•ë¶„ì— ì›, íƒ€ì› ë“± ì •í™•í•œ ê³¡ì„  í‘œí˜„ ê°€ëŠ¥

## ğŸ”— Binomialê³¼ N basisì˜ ì—°ê²°

| í•­ëª©                  | Binomial (Bezier)                                              | N basis (B-Spline/NURBS)                                      |
|-----------------------|----------------------------------------------------------------|---------------------------------------------------------------|
| ê³¡ì„  ì •ì˜ ë°©ì‹         | Bernstein ë‹¤í•­ì‹: $\binom{n}{i}(1 - t)^{n - i}t^i$            | ì¬ê·€ì  N basis í•¨ìˆ˜: $N_{i,k}(u)$                           |
| ì œì–´ì  ì˜í–¥ ë²”ìœ„       | ì „ì²´ ì œì–´ì ì´ ê³¡ì„  ì „ì²´ì— ì˜í–¥ì„ ì¤Œ                            | êµ­ì†Œ ì œì–´ ê°€ëŠ¥. ì¼ë¶€ ì œì–´ì ë§Œ ê³¡ì„ ì— ì˜í–¥                     |
| ê°€ì¤‘ì¹˜ í‘œí˜„ ë°©ì‹       | ì´í•­ ê³„ìˆ˜ë¡œ ê³ ì •ëœ ê°€ì¤‘ì¹˜                                      | Knot vector ê¸°ë°˜ì˜ ìœ ë™ì ì¸ ê°€ì¤‘ì¹˜                           |
| ìˆ˜í•™ì  ê¸°ë°˜            | ì´í•­ ê³„ìˆ˜, ë‹¤í•­ì‹, ì¡°í•©ë¡                                       | ë¶„í•  í•¨ìˆ˜, ì¬ê·€, ì„ í˜• ë³´ê°„                                    |
| Rational í™•ì¥ ê°€ëŠ¥ ì—¬ë¶€ | ë¶ˆê°€ëŠ¥ (BezierëŠ” ë¹„ìœ ë¦¬í˜•)                                     | ê°€ëŠ¥ (NURBSëŠ” Rational B-Splineìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥)               |
| ë§¤ê°œë³€ìˆ˜               | $t$ (0~1 ë²”ìœ„)                                               | $u$ (Knot vector ê¸°ë°˜ ë²”ìœ„)                                 |


## ğŸ§  ì •ë¦¬í•˜ë©´â€¦
- BezierëŠ” ì´í•­ ê³„ìˆ˜ ê¸°ë°˜ì˜ ì „ì—­ ê³¡ì„ 
- B-Splineì€ N basis ê¸°ë°˜ì˜ êµ­ì†Œ ê³¡ì„ 
- NURBSëŠ” B-Splineì— ê°€ì¤‘ì¹˜ë¥¼ ë”í•œ Rational ê³¡ì„ 
- Binomialê³¼ N basis í•¨ìˆ˜ëŠ” ëª¨ë‘ ê³¡ì„ ì˜ í˜•íƒœë¥¼ ì œì–´í•˜ëŠ” ìˆ˜í•™ì  ë„êµ¬ì´ë©°, ëª©ì ì€ ê°™ì§€ë§Œ ë°©ì‹ì´ ë‹¤ë¦„

---

# N basis ìˆ˜í•™ì  íŠ¹ì„±

ì•„ë˜ëŠ” B-Spline ë° NURBSì—ì„œ ì‚¬ìš©ë˜ëŠ” N basis í•¨ìˆ˜ì˜ ìˆ˜í•™ì  íŠ¹ì„±ë“¤ì„ êµ¬ì¡°ì ìœ¼ë¡œ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.  
ì´ í•¨ìˆ˜ëŠ” ê³¡ì„ ê³¼ ê³¡ë©´ì˜ í˜•íƒœë¥¼ ê²°ì •í•˜ëŠ” í•µì‹¬ ìš”ì†Œë¡œ, CADì™€ ì»´í“¨í„° ê·¸ë˜í”½ì—ì„œ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

## ğŸ“ N basis í•¨ìˆ˜ë€?
- B-Splineê³¼ NURBS ê³¡ì„ ì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë©ë‹ˆë‹¤:

$$
C(u)=\sum _{i=0}^nN_{i,k}(u)\cdot P_i\quad \mathrm{(B-Spline)}C(u)=\frac{\sum _{i=0}^nw_iN_{i,k}(u)\cdot P_i}{\sum _{i=0}^nw_iN_{i,k}(u)}\quad \mathrm{(NURBS)}
$$

- ì—¬ê¸°ì„œ $N_{i,k}(u)$ ëŠ” N basis í•¨ìˆ˜ë¡œ, ê³¡ì„ ì˜ í˜•íƒœë¥¼ ê²°ì •í•˜ëŠ” ê°€ì¤‘ì¹˜ í•¨ìˆ˜ì…ë‹ˆë‹¤.

## ğŸ” ìˆ˜í•™ì  íŠ¹ì„± ìš”ì•½

| íŠ¹ì„± í•­ëª©               | ì„¤ëª…                                                                 |
|--------------------------|----------------------------------------------------------------------|
| ì¬ê·€ ì •ì˜                | $N_{i,k}(u) = \frac{u - u_i}{u_{i+k} - u_i} N_{i,k-1}(u) + \frac{u_{i+k+1} - u}{u_{i+k+1} - u_{i+1}} N_{i+1,k-1}(u)$ |
| ê¸°ë³¸ ì •ì˜                | $N_{i,0}(u) = 1$ if $u_i \leq u < u_{i+1}$, else 0               |
| ë¹„ìŒìˆ˜ì„±                 | ëª¨ë“  $N_{i,k}(u) \geq 0$                                            |
| ì •ê·œí™”                   | $\sum_i N_{i,k}(u) = 1$ (ëª¨ë“  basis í•¨ìˆ˜ì˜ í•©ì€ í•­ìƒ 1)            |
| ì—°ì†ì„±                   | $C^0, C^1, C^2, \dots$ ì—°ì†ì„± ë³´ì¥. Knot ì¤‘ë³µì— ë”°ë¼ ì¡°ì ˆ ê°€ëŠ¥       |
| ì°¨ìˆ˜ ì œì–´                | $k$: ê³¡ì„ ì˜ ì°¨ìˆ˜. ë†’ì„ìˆ˜ë¡ ë” ë¶€ë“œëŸ½ê³  ì œì–´ì  ì˜í–¥ ë²”ìœ„ ë„“ì–´ì§       |
| êµ­ì†Œì„±                   | ê° $N_{i,k}(u)$ëŠ” íŠ¹ì • êµ¬ê°„ì—ì„œë§Œ 0ì´ ì•„ë‹Œ ê°’ì„ ê°€ì§€ë¯€ë¡œ êµ­ì†Œ ì œì–´ ê°€ëŠ¥ |
| Knot vector ì˜ì¡´ì„±       | Basis í•¨ìˆ˜ì˜ í˜•íƒœëŠ” Knot vectorì— ë”°ë¼ ê²°ì •ë¨                         |


## ğŸ§  í•µì‹¬ ê³µì‹: ì¬ê·€ ì •ì˜

$$
\begin{aligned}
N_{i,0}(u) &=
\begin{cases}
1, & u_i \le u < u_{i+1}, \\
0, & \text{otherwise}
\end{cases} 
N_{i,k}(u) &=
\frac{u - u_i}{u_{i+k} - u_i} \cdot N_{i,k-1}(u)
+
\frac{u_{i+k+1} - u}{u_{i+k+1} - u_{i+1}} \cdot N_{i+1,k-1}(u)
\end{aligned}
$$

- ì´ ì¬ê·€ì‹ì€ De Boor ì•Œê³ ë¦¬ì¦˜ì˜ ê¸°ë°˜ì´ ë˜ë©°, ê³¡ì„  ê³„ì‚°ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

## ğŸ“Š ì‹œê°ì  íŠ¹ì§•
- ê° basis í•¨ìˆ˜ëŠ” ì¢… ëª¨ì–‘ì˜ ê³¡ì„ ì„ ê°€ì§€ë©°, ì œì–´ì  í•˜ë‚˜ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹¨
- ì—¬ëŸ¬ basis í•¨ìˆ˜ê°€ ê²¹ì³ì„œ ì „ì²´ ê³¡ì„ ì„ êµ¬ì„±
- NURBSì—ì„œëŠ” ê° basis í•¨ìˆ˜ì— ê°€ì¤‘ì¹˜ w_iê°€ ê³±í•´ì ¸ ë” ìœ ì—°í•œ ê³¡ì„  ìƒì„± ê°€ëŠ¥

## âœ¨ N basis í•¨ìˆ˜ì˜ ì¥ì 
- ê³¡ì„ ì˜ êµ­ì†Œ ì œì–´ê°€ ê°€ëŠ¥ â†’ ì œì–´ì  í•˜ë‚˜ë§Œ ì›€ì§ì—¬ë„ ì „ì²´ ê³¡ì„ ì´ í¬ê²Œ ë³€í•˜ì§€ ì•ŠìŒ
- ì •í™•í•œ ê³¡ì„  í‘œí˜„ â†’ ì›, íƒ€ì› ë“±ë„ ê·¼ì‚¬ê°€ ì•„ë‹Œ ì •í™•í•˜ê²Œ í‘œí˜„ ê°€ëŠ¥ (NURBS)
- ì—°ì†ì„± ì¡°ì ˆ ê°€ëŠ¥ â†’ CADì—ì„œ ê³¡ë©´ ì—°ê²° ì‹œ ë§¤ë„ëŸ¬ìš´ ì ‘í•©ì´ ê°€ëŠ¥


---

# N bais support range

NURBSì™€ B-Splineì—ì„œ N basis í•¨ìˆ˜ì˜ ìœ íš¨ ë²”ìœ„(support range)ëŠ” ê³¡ì„ ì˜ ì°¨ìˆ˜(Degree)ì™€ Knot vectorì— ì˜í•´ ê²°ì •ë©ë‹ˆë‹¤.  
ì•„ë˜ì— ìˆ˜ì‹ê³¼ í•¨ê»˜ êµ¬ì¡°ì ìœ¼ë¡œ ì„¤ëª….

## ğŸ“ í•µì‹¬ ê°œë… ìš”ì•½
- Degree p: ê³¡ì„ ì˜ ì°¨ìˆ˜ (ì˜ˆ: 3ì°¨ â†’ p=3)
- Knot vector $\{ u_0,u_1,\dots ,u_m\}$ : ë§¤ê°œë³€ìˆ˜ êµ¬ê°„ì„ ì •ì˜í•˜ëŠ” ê°’ë“¤ì˜ ì§‘í•©
- Basis í•¨ìˆ˜ $N_{i,p}(u)$: ì œì–´ì  P_iì— ëŒ€ì‘ë˜ëŠ” ê°€ì¤‘ì¹˜ í•¨ìˆ˜

## ğŸ” ìœ íš¨ ë²”ìœ„(Support Range) ì •ì˜
ê° basis í•¨ìˆ˜ N_{i,p}(u)ëŠ” ë‹¤ìŒ êµ¬ê°„ì—ì„œë§Œ 0ì´ ì•„ë‹Œ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤:

$$
\mathrm{Support\  of\  }N_{i,p}(u)=[u_i,u_{i+p+1})
$$

- ì¦‰, **p+1** ê°œì˜ Knot êµ¬ê°„ì— ê±¸ì³ ìœ íš¨
- ì´ ë²”ìœ„ ë°–ì—ì„œëŠ” $N_{i,p}(u)=0$

## ğŸ“Œ ì˜ˆì‹œ: 3ì°¨ B-Spline (p=3)
- Knot vector: $\{ 0,0,0,0,1,2,3,4,4,4,4\}$ 
- Basis í•¨ìˆ˜ $N_{2,3}(u)$ ì˜ ìœ íš¨ ë²”ìœ„:

$$
[u_2,u_{2+3+1})=[0,4)]
$$


## ğŸ§  ìˆ˜í•™ì  êµ¬ì¡°: ì¬ê·€ ì •ì˜

$$
\begin{aligned}
N_{i,0}(u) &=
\begin{cases}
1, & u_i \le u < u_{i+1},\\
0, & \text{otherwise},
\end{cases}
N_{i,p}(u) &=
\frac{u - u_i}{\,u_{i+p} - u_i\,}\,N_{i,p-1}(u)
+ 
\frac{u_{i+p+1} - u}{\,u_{i+p+1} - u_{i+1}\,}\,N_{i+1,p-1}(u).
\end{aligned}
$$

- ì´ ì¬ê·€ì‹ì€ basis í•¨ìˆ˜ì˜ í˜•íƒœì™€ ìœ íš¨ ë²”ìœ„ë¥¼ ê²°ì •
- ê° basis í•¨ìˆ˜ëŠ” **p+1** ê°œì˜ Knot êµ¬ê°„ì— ê±¸ì³ ì •ì˜ë¨

## ğŸ“Š ì‹œê°ì  ìš”ì•½
| Degree $p$ | Basis í•¨ìˆ˜ $N_{i,p}(u)$ ìœ íš¨ ë²”ìœ„        |
|--------------|---------------------------------------------|
| 0            | $[u_i, u_{i+1})$                          |
| 1            | $[u_i, u_{i+2})$                          |
| 2            | $[u_i, u_{i+3})$                          |
| 3            | $[u_i, u_{i+4})$                          |
| p            | $[u_i, u_{i+p+1})$                        |

## âœ¨ ì •ë¦¬í•˜ë©´â€¦
- **Degree p** ê°€ ë†’ì„ìˆ˜ë¡ basis í•¨ìˆ˜ì˜ ìœ íš¨ ë²”ìœ„ê°€ ë„“ì–´ì§
- Knot vectorëŠ” basis í•¨ìˆ˜ì˜ ìœ„ì¹˜ì™€ í˜•íƒœë¥¼ ê²°ì •
- **ìœ íš¨ ë²”ìœ„ëŠ” $[u_i,u_{i+p+1})$** ë¡œ ê³„ì‚°ë¨
- ì´ êµ¬ì¡° ë•ë¶„ì— B-Splineê³¼ NURBSëŠ” êµ­ì†Œ ì œì–´, ì—°ì†ì„± ì¡°ì ˆ, ì •ë°€í•œ ê³¡ì„  í‘œí˜„ì´ ê°€ëŠ¥

---
