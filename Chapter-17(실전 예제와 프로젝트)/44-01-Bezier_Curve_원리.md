# BÃ©zier Curves â€“ Theory and Formulas

- ì´ ë¬¸ì„œëŠ” BÃ©zier ê³¡ì„ ì˜ ìˆ˜í•™ì  ì •ì˜, ì„±ì§ˆ, ë¯¸ë¶„ ê³µì‹,  
    ê·¸ë¦¬ê³  de Casteljau ì•Œê³ ë¦¬ì¦˜ì„
- Piegl & Tiller ìŠ¤íƒ€ì¼ë¡œ ì •ë¦¬í•œ ì´ë¡  ë¬¸ì„œì…ë‹ˆë‹¤.

---

## 1. Bernstein ë‹¤í•­ì‹

- nì°¨ Bernstein ë‹¤í•­ì‹ì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ëœë‹¤.

```math
B_{i,n}(u) = \binom{n}{i} u^i (1-u)^{n-i}, \quad i=0,\dots,n, \; u \in [0,1]
```

---

## 2. Bernstein ë‹¤í•­ì‹ì˜ ê¸°ë³¸ ì„±ì§ˆ

### P1.1 ë¹„ìŒìˆ˜ì„± (Non-negativity)

```math
B_{i,n}(u) \ge 0 \quad \forall i,n,\; u \in [0,1]
```

### P1.2 Partition of Unity

```math
\sum_{i=0}^n B_{i,n}(u) = 1 \quad \forall u \in [0,1]
```

### P1.3 ëì  ë³´ê°„

```math
B_{0,n}(0)=1, \quad B_{n,n}(1)=1
```

### P1.4 ìµœëŒ€ê°’ ì„±ì§ˆ

```math
B_{i,n}(u) \text{ ëŠ” } u = i/n \text{ ì—ì„œ ìœ ì¼í•œ ìµœëŒ€ê°’ì„ ê°€ì§„ë‹¤}
```

### P1.5 ëŒ€ì¹­ì„±

```math
B_{i,n}(u) = B_{n-i,n}(1-u)
```

---

## 3. ì¬ê·€ ì •ì˜ (Recursive Definition)

Bernstein ë‹¤í•­ì‹ì€ ë‹¤ìŒ ì¬ê·€ì‹ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```math
B_{i,n}(u) = (1-u) B_{i,n-1}(u) + u B_{i-1,n-1}(u)
```

ì •ì˜ìƒ,
```math
B_{i,n}(u) = 0 \quad (i<0 \text{ ë˜ëŠ” } i>n)
```

---

## 4. BÃ©zier ê³¡ì„  ì •ì˜

ì œì–´ì  $P_0, \dots, P_n$ ì— ëŒ€í•´ nì°¨ BÃ©zier ê³¡ì„ ì€

```math
C(u) = \sum_{i=0}^n B_{i,n}(u) P_i
```

---

## 5. BÃ©zier ê³¡ì„ ì˜ ë¯¸ë¶„

### 5.1 Bernstein ë‹¤í•­ì‹ì˜ ë¯¸ë¶„

```math
\frac{d}{du} B_{i,n}(u)
= n \big( B_{i-1,n-1}(u) - B_{i,n-1}(u) \big)
```

### 5.2 BÃ©zier ê³¡ì„  1ì°¨ ë„í•¨ìˆ˜

```math
C'(u)
= n \sum_{i=0}^{n-1} B_{i,n-1}(u) (P_{i+1} - P_i)
```

### 5.3 ëì  ë„í•¨ìˆ˜

```math
C'(0) = n (P_1 - P_0)
```

```math
C'(1) = n (P_n - P_{n-1})
```

### 5.4 2ì°¨ ë„í•¨ìˆ˜

```math
C''(u)
= n(n-1) \sum_{i=0}^{n-2} B_{i,n-2}(u)
( P_{i+2} - 2P_{i+1} + P_i )
```

---

## 6. de Casteljau ì•Œê³ ë¦¬ì¦˜

### 6.1 ì¬ê·€ì‹

```math
P_i^{(0)} = P_i
```

```math
P_i^{(k)}(u) = (1-u) P_i^{(k-1)}(u) + u P_{i+1}^{(k-1)}(u)
```

```math
C(u) = P_0^{(n)}(u)
```

### 6.2 ì•Œê³ ë¦¬ì¦˜ (ì˜ì‚¬ ì½”ë“œ)

```rust
Q[i] = P[i]  for i = 0..n
for k = 1..n:
    for i = 0..n-k:
        Q[i] = (1-u)*Q[i] + u*Q[i+1]
C(u) = Q[0]
```

---

## 7. ê¸°í•˜í•™ì  ì„±ì§ˆ

- **Convex Hull Property**  
  BÃ©zier ê³¡ì„ ì€ í•­ìƒ ì œì–´ì ë“¤ì˜ convex hull ë‚´ë¶€ì— ì¡´ì¬í•œë‹¤.

- **Variation Diminishing Property**  
  BÃ©zier ê³¡ì„ ì€ ì œì–´ ë‹¤ê°í˜•ë³´ë‹¤ ë” ë§ì€ ì§„ë™ì„ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤.

- **ì°¨ìˆ˜ ê°ì†Œ ì„±ì§ˆ**  
  nì°¨ BÃ©zier ê³¡ì„ ì˜ ë„í•¨ìˆ˜ëŠ” (nâˆ’1)ì°¨ BÃ©zier ê³¡ì„ ì´ë‹¤.

---

## 8. Power Basisì™€ì˜ ë¹„êµ

| í•­ëª© | BÃ©zier Basis | Power Basis |
|----|----|----|
| ìˆ˜ì¹˜ ì•ˆì •ì„± | ë§¤ìš° ì¢‹ìŒ | ë‚˜ì¨ |
| ê¸°í•˜í•™ì  ì˜ë¯¸ | ëª…í™• | ë¶ˆëª…í™• |
| êµ­ì†Œì„± | ìˆìŒ | ì—†ìŒ |
| CAD/NURBS í™œìš© | í‘œì¤€ | ê±°ì˜ ì‚¬ìš© ì•ˆ í•¨ |

---

## 9. NURBS ë° B-splineê³¼ì˜ ì—°ê²°

- BÃ©zier ê³¡ì„ ì€ **ë‹¨ì¼ êµ¬ê°„ B-spline**
- De Casteljau ì•Œê³ ë¦¬ì¦˜ â†” Knot insertion
- Bernstein basis â†” Coxâ€“de Boor basis

---

## 10. ìš”ì•½

- BÃ©zier ê³¡ì„ ì€
- ê¸°í•˜í•™ì ìœ¼ë¡œ ì§ê´€ì ì´ê³ 
- ìˆ˜ì¹˜ì ìœ¼ë¡œ ì•ˆì •ì ì´ë©°
- NURBS / CAD / IGAì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œì´ë‹¤.

- ì´ ë¬¸ì„œëŠ” ì´í›„ B-spline, NURBS, FEM/IGA ê¸°ë°˜ ê³¡ì„ Â·ê³¡ë©´ ì´ë¡ ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ í™•ì¥ë  ìˆ˜ ìˆë‹¤.

--- 
# u = i/n ì—ì„œ ìµœëŒ€ ê°’ ì¦ëª…

## 1. ì •ì˜
- ë²„ë¥¸ìŠ¤íƒ€ì¸ ê¸°ì € ë‹¤í•­ì‹ì€
```math
B_{i,n}(u)={n \choose i}u^i(1-u)^{n-i},\quad 0\leq u\leq 1,\; i=0,\dots ,n
```
- ë¡œ ì •ì˜ëœë‹¤.
- ìš°ë¦¬ê°€ ë³´ì¼ ê²ƒì€:
```math
B_{i,n}(u)\mathrm{\  ëŠ”\  }u=\frac{i}{n}\mathrm{\  ì—ì„œ\  ìœ ì¼í•œ\  ìµœëŒ€ê°’ì„\  ê°€ì§„ë‹¤.}
```

## 2. ë„í•¨ìˆ˜ ê³„ì‚°
- ìƒìˆ˜ ${n \choose i}$ ëŠ” ê·¹ê°’ ìœ„ì¹˜ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šìœ¼ë¯€ë¡œ
```math
f(u)=u^i(1-u)^{n-i}
```
- ì— ëŒ€í•´ ê·¹ê°’ì„ ì¡°ì‚¬í•˜ë©´ ì¶©ë¶„í•˜ë‹¤.

- ë„í•¨ìˆ˜ë¥¼ ì§ì ‘ ê³„ì‚°í•˜ë©´:

- ë”°ë¼ì„œ
```math
f'(u)=0\quad \Longleftrightarrow \quad i-nu=0\quad \Longleftrightarrow \quad u=\frac{i}{n}.
```
- ì¦‰, [0,1] ì•ˆì—ì„œì˜ ìœ ì¼í•œ ì„ê³„ì (critical point)ì€ u=i/n í•˜ë‚˜ë¿ì´ë‹¤.

## 3. ì´ ì ì´ ìµœëŒ€ê°’ì„ì„ ë³´ì´ê¸°
```math
f'(u)=u^{i-1}(1-u)^{n-i-1}(i-nu)
```

- ì—ì„œ $0<u<1ì´ë©´ u^{i-1}>0$, $(1-u)^{n-i-1}>0$ ì´ë¯€ë¡œ ë¶€í˜¸ëŠ” i-nuì— ì˜í•´ ê²°ì •ëœë‹¤.
- $0<u<i/n$ ì´ë©´ $i-nu>0\Rightarrow f'(u)>0$ â†’ ì¦ê°€
- $i/n<u<1$ ì´ë©´ $i-nu<0\Rightarrow f'(u)<0$ â†’ ê°ì†Œ
- ë”°ë¼ì„œ u=i/nì—ì„œ í•¨ìˆ˜ê°€ ì¦ê°€ì—ì„œ ê°ì†Œë¡œ ë°”ë€Œë¯€ë¡œ, ê·¸ ì ì€ [0,1]ì—ì„œì˜  
    ì „ì—­ ìµœëŒ€ê°’ì´ë‹¤.
- ë˜í•œ ì„ê³„ì ì´ í•˜ë‚˜ë¿ì´ë¯€ë¡œ, ì´ ìµœëŒ€ê°’ì€ ìœ ì¼í•œ ìµœëŒ€ê°’ì´ë‹¤.

## 4. ì •ë¦¬
```math
B_{i,n}(u)={n \choose i}u^i(1-u)^{n-i}
```
- ì— ëŒ€í•´,
- ë„í•¨ìˆ˜ $B'_{i,n}(u)$ ì˜ 0ì ì€ u=i/n í•˜ë‚˜ë¿ì´ë‹¤.
- $u<i/n$ ì—ì„œ ì¦ê°€, $u>i/n$ ì—ì„œ ê°ì†Œí•˜ë¯€ë¡œ $u=i/n$ ì€ ìœ ì¼í•œ ìµœëŒ€ì ì´ë‹¤.
- ë”°ë¼ì„œ
```math
B_{i,n}(u)\mathrm{\  ëŠ”\  }u=\frac{i}{n}\mathrm{\  ì—ì„œ\  ìœ ì¼í•œ\  ìµœëŒ€ê°’ì„\  ê°€ì§„ë‹¤.}
```
- ê°€ ì¦ëª…ëœë‹¤.

---

# $B_{i,n}(u)=B_{n-i,n}(1-u)$ ì¦ëª…
- ì´ê±´ **Bernstein basis polynomialì˜ ëŒ€ì¹­ì„±(symmetric property)** ì„ ë‚˜íƒ€ë‚´ëŠ” ì‹.


## ğŸ§  Step 1: Bernstein ê¸°ì € ë‹¤í•­ì‹ ì •ì˜
- Bernstein basis polynomialì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë¼:
```math
B_{i,n}(u)={n \choose i}u^i(1-u)^{n-i}
```
## ğŸ” Step 2: ì˜¤ë¥¸ìª½ ì‹ì„ ì§ì ‘ ê³„ì‚°í•´ë³´ì
- ìš°ë¦¬ê°€ ì¦ëª…í•˜ê³  ì‹¶ì€ ê±´:
```math
B_{i,n}(u)=B_{n-i,n}(1-u)
```
- ì˜¤ë¥¸ìª½ì„ ì§ì ‘ ê³„ì‚°í•´ë³´ë©´:
```math
B_{n-i,n}(1-u)={n \choose n-i}(1-u)^{n-i}u^i
```
- ì—¬ê¸°ì„œ ${n \choose n-i}={n \choose i}$ ì´ë¯€ë¡œ:
```math
B_{n-i,n}(1-u)={n \choose i}u^i(1-u)^{n-i}
```
- ì´ê±´ ì •í™•íˆ $B_{i,n}(u)$ ì™€ ê°™ë‹¤.

## âœ… ê²°ë¡ 
```math
B_{i,n}(u)={n \choose i}u^i(1-u)^{n-i}=B_{n-i,n}(1-u)
```
- ë”°ë¼ì„œ:
- ê°€ ì„±ë¦½í•¨ì´ ì¦ëª…ëœë‹¤.

## ğŸ“Œ í•´ì„ì  ì˜ë¯¸
- ì´ ì‹ì€ Bernstein ë‹¤í•­ì‹ì´ [0,1] êµ¬ê°„ì—ì„œ ì¢Œìš° ëŒ€ì¹­ì´ë¼ëŠ” ê±¸ ì˜ë¯¸.
- ì¦‰, ië²ˆì§¸ ë‹¤í•­ì‹ì€ u=i/nì—ì„œ ìµœëŒ€ê°’ì„ ê°€ì§€ë©°,
- ê·¸ ëª¨ì–‘ì€ n-ië²ˆì§¸ ë‹¤í•­ì‹ì„ $u\mapsto 1-u$ ë¡œ ë°”ê¾¼ ê²ƒê³¼ ë™ì¼.
- ê·¸ë˜ì„œ BÃ©zier ê³¡ì„ ì—ì„œë„ control pointì˜ ìœ„ì¹˜ì— ë”°ë¼ ê³¡ì„ ì´ ëŒ€ì¹­ì ìœ¼ë¡œ ì›€ì§ì´ëŠ” ì„±ì§ˆì´ ìƒê¸°ëŠ” ê²ƒì„.

---


