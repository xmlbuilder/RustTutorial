# v/|v| 의 시간 미분(derivative) 을 계산

## ✅ 정확한 수식
```math
\left( \frac{v}{|v|}\right) '=\frac{v'}{|v|}-\frac{v(v\cdot v')}{|v|^3}
```
- 또는 코드 형태로:
```math
(v/|v|)'=\frac{v'\sqrt{v\cdot v}-v\frac{v\cdot v'}{\sqrt{v\cdot v}}}{v\cdot v}
```



```rust
pub fn on_unitized_derivative(v: Vector3D, v1: Vector3D) -> Vector3D {
    let vv = v.dot(&v);
    let vv_sqrt = vv.sqrt();

    // 안전성 체크
    if vv_sqrt <= 1e-14 {
        return Vector3D::zero();
    }

    // v'·v  (정확한 공식)
    let vprime_v = v1.dot(&v);

    // numerator = v' * |v| - v * (v·v' / |v|)
    let numerator = v1 * vv_sqrt - v * (vprime_v / vv_sqrt);

    // divide by v·v
    numerator / vv
}
```
