# Knot Reparameterization

- ì˜ë¯¸:
    - ê³¡ì„ (ë˜ëŠ” í•¨ìˆ˜)ì˜ knot vector $U[0]\ldots U[m]$ ì„
    - ìƒˆ êµ¬ê°„ $[a,b]$ ë¡œ ì„ í˜• ìŠ¤ì¼€ì¼í•œë‹¤.
    - ì–‘ ëì˜ clamped êµ¬ê°„(ì²˜ìŒ p+1ê°œ, ë§ˆì§€ë§‰ p+1ê°œ)ì€ ê°ê° ëª¨ë‘ a, b ë¡œ ë§žì¶”ê³ 
    - ì¤‘ê°„ knot ë“¤ë§Œ ì„ í˜• ë³€í™˜.

## 1. êµ¬í˜„
```rust
impl NurbsCurve {
    /// Scale the knot vector domain to a new interval [a, b].
    ///
    /// Geometry of the curve is preserved.
    /// Only the parameter domain (and derivative scaling) is changed.
    pub fn scale_knot_domain(&mut self, a: Real, b: Real) -> Result<()> {
        let p = self.degree as usize;
        let knots = &mut self.kv.knots;

        if knots.is_empty() {
            return Err(NurbsError::EmptyKnots);
        }

        let m = knots.len() - 1;

        if m < 2 * p + 1 {
            return Err(NurbsError::InvalidInput {
                msg: format!(
                    "scale_knot_domain: knot vector too short for degree p={}, m={}",
                    p, m
                ),
            });
        }

        let old_a = knots[0];
        let old_b = knots[m];

        // ì´ë¯¸ ë™ì¼ êµ¬ê°„ì´ë©´ ì•„ë¬´ ê²ƒë„ ì•ˆ í•¨
        if (a - old_a).abs() < 1e-15 && (b - old_b).abs() < 1e-15 {
            return Ok(());
        }

        let denom = old_b - old_a;
        if denom.abs() < 1e-15 {
            return Err(NurbsError::NumericError {
                msg: "scale_knot_domain: invalid original knot span (zero length)".into(),
            });
        }

        let fac = (b - a) / denom;
        let u0 = old_a;

        // 1) ì²˜ìŒ p+1 ê°œëŠ” ëª¨ë‘ a
        for i in 0..=p {
            knots[i] = a;
        }

        // 2) ì¤‘ê°„ knot ë“¤ ì„ í˜• ìŠ¤ì¼€ì¼
        for i in (p + 1)..=(m - p - 1) {
            knots[i] = fac * (knots[i] - u0) + a;
        }

        // 3) ë§ˆì§€ë§‰ p+1 ê°œëŠ” ëª¨ë‘ b
        for i in (m - p)..=m {
            knots[i] = b;
        }

        Ok(())
    }
}
```

## 2. ìˆ˜ì‹ì ìœ¼ë¡œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ëŠ”ê°€
### 2.1. knot ìŠ¤ì¼€ì¼ë§ ìˆ˜ì‹
- ì›ëž˜ knot vectorë¥¼ $U_0,U_1,\ldots ,U_m$ ì´ë¼ í•˜ê³ ,  
    ìƒˆ êµ¬ê°„ì„ $[a,b]$, ì›ëž˜ êµ¬ê°„ì„ $[U_0,U_m]$ ë¼ê³  ê°€ì •.
- ì¤‘ê°„ knot ì— ëŒ€í•´ ì½”ë“œê°€ í•˜ëŠ” ì¼ì€:
```math
U_i'=a+\frac{b-a}{U_m-U_0}(U_i-U_0),\quad i=p+1,\ldots ,m-p-1
```
- ì²˜ìŒê³¼ ëì€:
```math
U_0'=\cdots =U_p'=a,\quad U_{m-p}'=\cdots =U_m'=b
```
- ì¦‰, clamped B-spline êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë©´ì„œ
    ì „ì²´ knot vectorë¥¼ $[U_0,U_m]\rightarrow [a,b]$ ë¡œ ì„ í˜• ë§¤í•‘í•œë‹¤.

### 2.2. íŒŒë¼ë¯¸í„° ë§¤í•‘
- ì›ëž˜ íŒŒë¼ë¯¸í„° $u$ ê°€ $[U_0,U_m]$ ë²”ìœ„ì— ìžˆì„ ë•Œ,
    ìƒˆ íŒŒë¼ë¯¸í„° $u'$ ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„ í˜• ê´€ê³„ë¥¼ ê°–ëŠ”ë‹¤:
```math
u'=a+\frac{b-a}{U_m-U_0}(u-U_0)
```
- ì—­ìœ¼ë¡œ:
```math
u=U_0+\frac{U_m-U_0}{b-a}(u'-a)
```

- ê·¸ëž˜ì„œ ê¸°í•˜í•™ì ìœ¼ë¡œëŠ”:
```math
C'(u')=C(u)
```
- ë¼ê³  ì •ì˜í•˜ë©´, ê³¡ì„ ì˜ ì‹¤ì œ ìœ„ì¹˜ëŠ” ê·¸ëŒ€ë¡œë‹¤.

### 2.3. ë¯¸ë¶„(derivative)ì— ë¯¸ì¹˜ëŠ” ì˜í–¥
- ì›ëž˜ ê³¡ì„ ì´ $C(u)$ ë¼ í•˜ê³ ,
- ìƒˆ ê³¡ì„ ì´ $C'(u')=C(u(u'))$ ë¼ê³  í•˜ë©´:
    - 1ì°¨ ë¯¸ë¶„:
```math
\frac{dC'}{du'}=\frac{dC}{du}\cdot \frac{du}{du'}=\frac{dC}{du}\cdot \frac{U_m-U_0}{b-a}
```
- ì¦‰, 1ì°¨ ë¯¸ë¶„(ì†ë„)ì€ $\frac{U_m-U_0}{b-a}$ ë°°ë¡œ ìŠ¤ì¼€ì¼ëœë‹¤.
- 2ì°¨ ë¯¸ë¶„:
```math
\frac{d^2C'}{du'^2}=\frac{d^2C}{du^2}\left( \frac{du}{du'}\right) ^2=\frac{d^2C}{du^2}\left( \frac{U_m-U_0}{b-a}\right) ^2
```
- ê·¸ëž˜ì„œ ê³¡ë¥ Â·ê°€ì†ë„ ê´€ë ¨ ê°’ë„ ìŠ¤ì¼€ì¼ëœë‹¤.
- í•µì‹¬:
    - ê³¡ì„  ëª¨ì–‘ì€ ê·¸ëŒ€ë¡œì§€ë§Œ, **íŒŒë¼ë¯¸í„° ì†ë„** ëŠ” ë°”ë€ë‹¤.

## 3. ì‹¤ì œë¡œ ì–´ë–¤ ì˜í–¥ì´ ìžˆëŠ”ê°€
### 3.1. Geometry (ê³¡ì„  ëª¨ì–‘)
- ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.
- control points, weight, knot multiplicity êµ¬ì¡°ëŠ” ë™ì¼í•˜ê³ ,  
    basis functionì˜ ëª¨ì–‘ë„ ìœ ì§€ëœë‹¤.
- ë‹¨ì§€, ê³¡ì„ ì„ í‰ê°€í•  ë•Œ ì‚¬ìš©í•˜ëŠ” u ê°’ì˜ ì˜ë¯¸ê°€ ë°”ë€ë‹¤.
- ì˜ˆ:
    - ì›ëž˜: $u\in [0,1]$
    - ìŠ¤ì¼€ì¼: $u'\in [10,20]$
- ë‘ ê³¡ì„ ì€ ê¸°í•˜í•™ì ìœ¼ë¡œ ì™„ì „ížˆ ë˜‘ê°™ë‹¤.
- ë‹¨ì§€ **íŒŒë¼ë¯¸í„° ì´ë¦„** ë§Œ ë°”ë€ ê²ƒ.

### 3.2. Parametrization (ë„ë©”ì¸, ì†ë„, ê¸¸ì´ ê´€ë ¨)
- íŒŒë¼ë¯¸í„° ë„ë©”ì¸ì´ $[U0, Um]$ â†’ $[a, b]$ ë¡œ ë°”ë€œ.
- 1ì°¨ ë¯¸ë¶„ì€ $\frac{U_m-U_0}{b-a}$ ë°°ë¡œ ìŠ¤ì¼€ì¼.
- ë”°ë¼ì„œ:
    - ê°™ì€ **u ì¦ê°€ëŸ‰** ì— ëŒ€í•´ ê³¡ì„  ìœ„ì—ì„œ ì´ë™í•˜ëŠ” ë¬¼ë¦¬ì  ê±°ë¦¬ê°€ ë‹¬ë¼ì§„ë‹¤.
    - arc-length parameterization, speed control, animation ê°™ì€ ê³³ì—ì„œ ì˜í–¥ì„ ì¤Œ.

### 3.3. ë‹¤ë¥¸ ê³¡ì„ /ê³¡ë©´ê³¼ì˜ ë„ë©”ì¸ ë§¤ì¹­
- ì´ê²Œ ì‹¤ì œë¡œ ê°€ìž¥ ì¤‘ìš”í•œ ìš©ë„ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´:
    - curve1 : domain [0,1]
    - curve2 : domain [2,5]
- loft, blend, sweep, morph ë“±ì„ í•  ë•Œ ë‘ ê³¡ì„ ì˜ ë„ë©”ì¸ì´ ë‹¤ë¥´ë©´ êµ‰ìž¥ížˆ ê·€ì°®ì•„ì§„ë‹¤.
- ê·¸ëž˜ì„œ:
    - curve2.scale_knot_domain(0.0, 1.0)
    - ì´ë ‡ê²Œ í•´ì„œ ë‘˜ì˜ ë„ë©”ì¸ì„ ë§žì¶”ëŠ” ê²ƒì´ ì¼ë°˜ì ì¸ íŒ¨í„´ì´ë‹¤.
- ê¸°í•˜í•™ì€ ê·¸ëŒ€ë¡œ, ìˆ˜í•™ì  íŒŒë¼ë¯¸í„° ë„ë©”ì¸ë§Œ ì •ë¦¬í•˜ëŠ” ìž‘ì—….

### 3.4. trimming, reparameterization, normalization
- ì–´ë–¤ CAD ì»¤ë„ì€ ëª¨ë“  ê³¡ì„ ì„ [0,1]ë¡œ normalizeí•´ì„œ ë‹¤ë£¬ë‹¤.
- ë˜ëŠ” surface(u,v) ì—ì„œ u, v ë„ë©”ì¸ì„ í†µì¼í•˜ê¸° ìœ„í•´ ê³¡ì„ /ê³¡ë©´ì˜ ë„ë©”ì¸ì„ ìŠ¤ì¼€ì¼í•œë‹¤.
- trimming ê³¡ì„ ë„ host surface ì˜ u/v ë„ë©”ì¸ì— ë§žì¶° reparameterization í•´ì•¼ í•œë‹¤.
- ì´ë•Œ ì´ í•¨ìˆ˜ê°€ í•„ìˆ˜ë¡œ ì“°ì¸ë‹¤.

## 5. ì´ í•¨ìˆ˜ì˜ â€œëª©ì â€ì„ í•œ ë¬¸ìž¥ìœ¼ë¡œ ë§í•˜ë©´
- **ê³¡ì„ ì˜ geometryëŠ” ìœ ì§€í•œ ì±„, íŒŒë¼ë¯¸í„° ë„ë©”ì¸ë§Œ ìƒˆ êµ¬ê°„ìœ¼ë¡œ ì„ í˜• ìž¬ë§¤í•‘í•˜ëŠ” í•¨ìˆ˜.**
    - geometry: ê·¸ëŒ€ë¡œ
    - domain: $[U_0,U_m]\rightarrow [a,b]$
    - derivatives: ìƒìˆ˜ ë°°ë¡œ ìŠ¤ì¼€ì¼ë¨
    - ì£¼ ìš©ë„: domain ë§¤ì¹­, normalization, reparameterization

## ðŸ” ì‹¤ì œë¡œ ì–´ë””ì— ì˜í–¥ì„ ì£¼ëŠ”ê°€?
- âœ” Frenet frame
    - T = 1ì°¨ ë¯¸ë¶„ â†’ ìŠ¤ì¼€ì¼ ì˜í–¥ ìžˆìŒ
    - N, B = 2ì°¨ ë¯¸ë¶„ â†’ ë” í° ì˜í–¥
    - í•˜ì§€ë§Œ unit tangent ë¡œ normalize í•˜ë¯€ë¡œ ë°©í–¥ì€ ìœ ì§€, í¬ê¸°ë§Œ ì˜í–¥
- âœ” RMF frame
    - tangent ë°©í–¥ë§Œ í•„ìš” â†’ ì˜í–¥ ê±°ì˜ ì—†ìŒ
- âœ” curvature
    ```math
    \kappa =\frac{|C'(u)\times C''(u)|}{|C'(u)|^3}
    ```
    - ì—¬ê¸°ì„œë„ ìŠ¤ì¼€ì¼ íŒ©í„°ê°€ ìƒì‡„ë˜ë¯€ë¡œ ê³¡ë¥  ìžì²´ëŠ” ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.
- âœ” arc-length parameterization
    - íŒŒë¼ë¯¸í„° ì†ë„ê°€ ë°”ë€Œë¯€ë¡œ
    - ê¸¸ì´ ê¸°ë°˜ ë¶„í• , ë“±ê°„ê²© ë¶„í•  ë“±ì— ì˜í–¥
- âœ” animation / motion control
    - u(t) ë¡œ ì›€ì§ì´ëŠ” ê²½ìš° ì†ë„ ë³€í™”ê°€ ì§ì ‘ì ìœ¼ë¡œ ë‚˜íƒ€ë‚¨

## ðŸ§© ì •ë¦¬í•˜ë©´
- âœ” Knot scaling â†’ geometry: ë¶ˆë³€
- âœ” Knot scaling â†’ parameterization: ë³€í•¨
- âœ” Knot scaling â†’ derivatives: ìŠ¤ì¼€ì¼ë¨
- âœ” Knot scaling â†’ curvature: ë¶ˆë³€
- âœ” Knot scaling â†’ Frenet frame: í¬ê¸°ë§Œ ì˜í–¥, ë°©í–¥ì€ ë™ì¼


## ðŸŽ¯ ê²°ë¡ 
- CADì—ì„œ ë¯¸ë¶„ê°’ì„ í•¨ë¶€ë¡œ normalize í•˜ë©´ ì•ˆ ëœë‹¤.
- ì™œëƒë©´:
    - âœ” ë¯¸ë¶„ê°’(1ì°¨Â·2ì°¨Â·3ì°¨â€¦)ì€ â€œê¸°í•˜í•™ì  ì†ì„± + íŒŒë¼ë¯¸í„°í™”(knot)â€ ë‘ ê°€ì§€ì˜ ì˜í–¥ì„ ë™ì‹œì— ë°›ê¸° ë•Œë¬¸.
- ì¦‰,
- ê¸°í•˜í•™ì€ ê·¸ëŒ€ë¡œì¸ë°ë„, knot scaling ë•Œë¬¸ì— ë¯¸ë¶„ê°’ì€ ë‹¬ë¼ì§ˆ ìˆ˜ ìžˆë‹¤.
- ê·¸ëž˜ì„œ **normalize** ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ
    - tangent
    - derivative
    - speed
    - acceleration
    - curvature-related values
- ì´ëŸ° ê±¸ ë¬´ì¡°ê±´ ë‹¨ìœ„í™”(normalize)í•˜ê±°ë‚˜ íŒŒë¼ë¯¸í„° êµ¬ê°„ì„ ë¬´ì‹œí•˜ë©´ ê³¡ì„ ì˜ ì§„ì§œ íŠ¹ì„±ì„ ìžƒì–´ë²„ë¦´ ìˆ˜ ìžˆë‹¤.

---

## ðŸ§  ì™œ ë¯¸ë¶„ê°’ì„ normalize í•˜ë©´ ìœ„í—˜í•œê°€?
### 1) NURBS ê³¡ì„ ì˜ ë¯¸ë¶„ì€ íŒŒë¼ë¯¸í„°í™”ì— ì˜ì¡´í•œë‹¤
- ê³¡ì„  C(u) ì˜ 1ì°¨ ë¯¸ë¶„ì€:
```math
C'(u)=\frac{dC}{du}
```
- ì—¬ê¸°ì„œ uëŠ” knot vectorì— ì˜í•´ ì •ì˜ëœ íŒŒë¼ë¯¸í„°.
- knot vectorë¥¼ ìŠ¤ì¼€ì¼í•˜ë©´:
```math
u'=a+\frac{b-a}{U_m-U_0}(u-U_0)
```
- ê·¸ëŸ¬ë©´:
```math
C'(u')=C'(u)\cdot \frac{du}{du'}
```
- ì¦‰:
    - âœ” ì†ë„ëŠ” íŒŒë¼ë¯¸í„° ìŠ¤ì¼€ì¼ì— ë”°ë¼ ë³€í•œë‹¤
    - âœ” ê°€ì†ë„ëŠ” ìŠ¤ì¼€ì¼ì˜ ì œê³±ìœ¼ë¡œ ë³€í•œë‹¤
    - âœ” curvatureëŠ” ìŠ¤ì¼€ì¼ì´ ìƒì‡„ë˜ë¯€ë¡œ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤

### âš ï¸ ê·¸ëž˜ì„œ normalize í•˜ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìƒê¸°ë‚˜?
- âŒ ë¬¸ì œ 1: ê³¡ì„ ì˜ **ì‹¤ì œ ì†ë„ ì •ë³´** ê°€ ì‚¬ë¼ì§„ë‹¤
- ì˜ˆë¥¼ ë“¤ì–´:
    - ê³¡ì„ ì´ ë¹ ë¥´ê²Œ íœ˜ëŠ” êµ¬ê°„
    - ê³¡ì„ ì´ ì²œì²œížˆ ë³€í™”í•˜ëŠ” êµ¬ê°„
    - ì´ëŸ° ì°¨ì´ê°€ ë¯¸ë¶„ê°’ í¬ê¸°ì— ë‚˜íƒ€ë‚˜ëŠ”ë°
- normalize í•˜ë©´:
    - ëª¨ë“  tangent = ë‹¨ìœ„ ë²¡í„°

- ì¦‰, ì†ë„ ì •ë³´ê°€ ì™„ì „ížˆ ì‚¬ë¼ì§„ë‹¤.

- âŒ ë¬¸ì œ 2: ê³¡ì„ ì˜ parameterization ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì´ ë§ê°€ì§„ë‹¤
- ì˜ˆ:
    - arc-length parameterization
    - adaptive tessellation
    - curvature-based sampling
    - sweep frame ì•ˆì •í™”
    - offset
    - trimming
    - intersection
- ì´ëŸ° ì•Œê³ ë¦¬ì¦˜ë“¤ì€ ë¯¸ë¶„ê°’ì˜ í¬ê¸°ë¥¼ ì´ìš©í•´ ê³¡ì„ ì˜ ë³€í™”ëŸ‰ì„ íŒë‹¨í•œë‹¤.
ê·¸ëŸ°ë° normalize í•´ë²„ë¦¬ë©´:
- ê³¡ì„ ì´ ì–¼ë§ˆë‚˜ íœ˜ëŠ”ì§€ íŒë‹¨ ë¶ˆê°€
- ê³¡ì„ ì´ ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ì›€ì§ì´ëŠ”ì§€ íŒë‹¨ ë¶ˆê°€
- ê³¡ì„ ì˜ parameter speed ì •ë³´ ì†ì‹¤

- ì¦‰, ê³¡ì„ ì˜ ì§„ì§œ íŠ¹ì„±ì„ ìžƒì–´ë²„ë¦°ë‹¤.

- âŒ ë¬¸ì œ 3: knot scalingì´ ë“¤ì–´ê°„ ê³¡ì„ ì—ì„œëŠ” ë” ìœ„í—˜
- knot scalingì€ geometryëŠ” ê·¸ëŒ€ë¡œì§€ë§Œ ë¯¸ë¶„ê°’ì€ ìŠ¤ì¼€ì¼ëœë‹¤.
- ì¦‰:
    - geometryëŠ” ê°™ì•„ë„
    - ë¯¸ë¶„ê°’ì€ ë‹¤ë¥¼ ìˆ˜ ìžˆë‹¤
- ì´ ìƒíƒœì—ì„œ normalize í•˜ë©´:
- ì›ëž˜ ê³¡ì„ ì˜ parameterization íŠ¹ì„± = ì™„ì „ížˆ ì‚¬ë¼ì§

## âœ” ê·¸ëŸ¼ ì–¸ì œ normalize í•´ë„ ë˜ëŠ”ê°€?
### 1) tangent ë°©í–¥ë§Œ í•„ìš”í•  ë•Œ
- ì˜ˆ: Frenet frameì˜ T
    - ë°©í–¥ë§Œ í•„ìš”í•˜ë¯€ë¡œ normalize OK
### 2) RMF frame
- tangent ë°©í–¥ë§Œ í•„ìš”í•˜ë¯€ë¡œ normalize OK
### 3) ì‹œê°í™”ìš©
- ì†ë„ ì •ë³´ í•„ìš” ì—†ìŒ
### 4) ë‹¨ìˆœí•œ ë°©í–¥ ë¹„êµ
- magnitude í•„ìš” ì—†ìŒ

### âŒ í•˜ì§€ë§Œ ì•„ëž˜ ê²½ìš°ì—ëŠ” ì ˆëŒ€ normalize í•˜ë©´ ì•ˆ ëœë‹¤
- adaptive tessellation
- arc-length sampling
- curvature-based sampling
- offset
- trimming
- intersection
- sweep parameterization
- reparameterization
- domain matching
- speed control
- animation along curve
- ì´ëŸ° ê²½ìš°ëŠ” ë¯¸ë¶„ê°’ì˜ í¬ê¸° ìžì²´ê°€ ì¤‘ìš”í•œ ì •ë³´ë‹¤.

### ðŸŽ¯ ì™œ ì—°ì†ì„± íŒë‹¨ì—ì„œ ë¯¸ë¶„ê°’ì´ ì¤‘ìš”í•œê°€
- ê³¡ì„  ì—°ì†ì„±ì€ í¬ê²Œ ì„¸ ê°€ì§€ë¡œ ë‚˜ë‰˜ì§€.
- Câ° ì—°ì† (ìœ„ì¹˜ ì—°ì†)
- $C_1(u_1)=C_2(u_2)$
    - ë‹¨ìˆœížˆ ë‘ ì ì´ ë¶™ì–´ ìžˆëŠ”ì§€
    - ë¯¸ë¶„ê°’ì€ í•„ìš” ì—†ìŒ
- CÂ¹ ì—°ì† (ì ‘ì„  ì—°ì†)
```math
C_1'(u_1)\parallel C_2'(u_2)
```
- **1ì°¨ ë¯¸ë¶„(ì†ë„ ë²¡í„°)** ê°€ í‰í–‰í•´ì•¼ í•œë‹¤
- í¬ê¸°ëŠ” ë‹¬ë¼ë„ ë°©í–¥ì€ ê°™ì•„ì•¼ í•¨
- ì—¬ê¸°ì„œ tangent normalizeëŠ” ê°€ëŠ¥ (ë°©í–¥ë§Œ í•„ìš”)
- CÂ² ì—°ì† (ê³¡ë¥  ì—°ì†)
```math
C_1''(u_1)\parallel C_2''(u_2)
```
- **2ì°¨ ë¯¸ë¶„(ê°€ì†ë„)** ê°€ í‰í–‰í•´ì•¼ í•œë‹¤
- í¬ê¸°ê¹Œì§€ ë§žì¶”ë©´ ë” ë†’ì€ ì—°ì†ì„±
- ì—¬ê¸°ì„œëŠ” normalize í•˜ë©´ ì•ˆ ë¨
    - í¬ê¸° ì •ë³´ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸

### ðŸ§  ê·¸ëŸ°ë° ì™œ knot scalingì´ ì—°ì†ì„± íŒë‹¨ì— ì˜í–¥ì„ ì£¼ëŠ”ê°€?
- âœ” knot scalingì€ geometryëŠ” ì•ˆ ë°”ê¾¸ì§€ë§Œ
- âœ” ë¯¸ë¶„ê°’ì˜ í¬ê¸°ë¥¼ ë°”ê¾¼ë‹¤
- ì¦‰:
    - ê³¡ì„ ì˜ ëª¨ì–‘ì€ ê·¸ëŒ€ë¡œì¸ë°
    - ì†ë„, ê°€ì†ë„, ê³¡ë¥  ë²¡í„°ì˜ í¬ê¸°ëŠ” ë‹¬ë¼ì§„ë‹¤
- ê·¸ëŸ¬ë©´ ì–´ë–¤ ì¼ì´ ìƒê¸°ëƒë©´â€¦
    - âš ï¸ ì—°ì†ì„± íŒë‹¨ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤
- âŒ ë¬¸ì œ 1: CÂ¹ ì—°ì†ì„± íŒë‹¨ì´ ì™œê³¡ë  ìˆ˜ ìžˆë‹¤
    - CÂ¹ ì—°ì†ì€ **ë°©í–¥ë§Œ ê°™ìœ¼ë©´ ëœë‹¤** ê³  í–ˆì§€ë§Œ,
    - ì‹¤ì œë¡œ CAD ì»¤ë„ì—ì„œëŠ” ì†ë„ ë¹„ìœ¨ê¹Œì§€ ì²´í¬í•˜ëŠ” ê²½ìš°ê°€ ë§Žë‹¤.
- ì˜ˆ:
    - ê³¡ì„  Aì˜ ì†ë„ = 10
    - ê³¡ì„  Bì˜ ì†ë„ = 0.1
- ë‘˜ì´ ë°©í–¥ë§Œ ê°™ë‹¤ê³  í•´ì„œ **ì—°ì†** ì´ë¼ê³  ë³´ê¸° ì–´ë µë‹¤.
- ì™œëƒë©´ ì‹¤ì œë¡œëŠ” íŒŒë¼ë¯¸í„°í™”ê°€ ì™„ì „ížˆ ë‹¤ë¥´ê¸° ë•Œë¬¸.
- knot scalingì´ ë“¤ì–´ê°€ë©´ ì´ëŸ° ì°¨ì´ê°€ ë” ì»¤ì§„ë‹¤.

- âŒ ë¬¸ì œ 2: CÂ² ì—°ì†ì„±ì€ ë” ì‹¬ê°
- CÂ² ì—°ì†ì€ ê°€ì†ë„ ë²¡í„°ì˜ í¬ê¸°ê¹Œì§€ ë¹„êµí•´ì•¼ í•˜ëŠ”ë°
- knot scalingì€:
```math
C''(u')=C''(u)\left( \frac{du}{du'}\right) ^2
```
- ì¦‰, ì œê³± ë°°ë¡œ ìŠ¤ì¼€ì¼ëœë‹¤.
- ê·¸ëž˜ì„œ:
    - geometryëŠ” ì™„ì „ížˆ ê°™ì•„ë„
    - knot scalingë§Œ ë‹¤ë¥´ë©´
    - CÂ² ì—°ì†ì„± íŒë‹¨ì€ **ë¶ˆì—°ì†** ìœ¼ë¡œ ë‚˜ì˜¬ ìˆ˜ ìžˆë‹¤

- âŒ ë¬¸ì œ 3: ê³¡ì„  ë§¤ì¹­, loft, sweepì—ì„œ continuity mismatch ë°œìƒ
- ë‘ ê³¡ì„ ì„ loftí•  ë•Œ:
    - domainì´ ë‹¤ë¥´ë©´
    - ë¯¸ë¶„ê°’ì´ ë‹¤ë¥´ê²Œ ìŠ¤ì¼€ì¼ë˜ê³ 
    - ê²°ê³¼ì ìœ¼ë¡œ loft surfaceê°€ ê¼¬ì´ê±°ë‚˜, tangent mismatchê°€ ìƒê¸°ê±°ë‚˜,  
        GÂ¹/GÂ² continuityê°€ ê¹¨ì§„ë‹¤.
- ê·¸ëž˜ì„œ ëŒ€ë¶€ë¶„ì˜ CAD ì»¤ë„ì€:
    - âœ” loft ì „ì— ëª¨ë“  ê³¡ì„  domainì„ [0,1]ë¡œ normalize
    - âœ” knot scalingì„ í†µì¼
    - âœ” ë¯¸ë¶„ê°’ ìŠ¤ì¼€ì¼ì„ ë§žì¶˜ë‹¤

ðŸŽ‰ JungHwan, ë„¤ê°€ ì§€ê¸ˆ ì´í•´í•œ ê±´ CAD ì»¤ë„ì˜ í•µì‹¬ ì¤‘ í•µì‹¬ì´ë‹¤
ë„ˆì˜ ë§:
â€œcurveì™€ curveì˜ ì—°ì†ì„±ì„ ë³´ê±°ë‚˜ í•  ë•ŒëŠ” ì¤‘ìš”í•œ ì¸ìžë„¤...â€

## ðŸ§  ì™œ Knotê°€ ë‹¤ë¥´ë©´ Loft Surfaceê°€ ë’¤í‹€ë¦´ê¹Œ?
- âœ” LoftëŠ” â€œê°™ì€ u ê°’â€ì„ ê°€ì§„ ì ë“¤ì„ ì—°ê²°í•´ì„œ ë§Œë“ ë‹¤
- Loft surfaceëŠ” ì´ë ‡ê²Œ ì •ì˜ëœë‹¤:
```math
S(u,v)=\mathrm{interpolate\  curves\  }C_0(u),C_1(u),\ldots ,C_n(u)
```
- ì¦‰:
    - ê° ê³¡ì„ ì˜ ë™ì¼í•œ u ê°’ì„ ì—°ê²°í•´ì„œ
    - Loftì˜ â€œì„¸ë¡œ ë°©í–¥â€ì„ ë§Œë“ ë‹¤.

## âš  ë¬¸ì œ: ê³¡ì„ ë§ˆë‹¤ uì˜ ì˜ë¯¸ê°€ ë‹¤ë¥´ë©´?
- ì˜ˆë¥¼ ë“¤ì–´:
- Curve A
    - domain: [0, 1]
    - u=0.5 â†’ ê³¡ì„ ì˜ **ì •ì¤‘ì•™**
- Curve B
    - domain: [0, 10]
    - u=0.5 â†’ ê³¡ì„ ì˜ **ì•„ì£¼ ì´ˆë°˜ë¶€**
- ì¦‰, ê°™ì€ u=0.5ë¼ë„ ì„œë¡œ ì™„ì „ížˆ ë‹¤ë¥¸ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
- ê·¸ëŸ¼ LoftëŠ” ì´ë ‡ê²Œ ëœë‹¤:
    - Aì˜ ì¤‘ì•™ê³¼
    - Bì˜ ì´ˆë°˜ë¶€ë¥¼
    - **ê°™ì€ u** ë¼ê³  ìƒê°í•˜ê³  ì—°ê²°í•´ë²„ë¦¼
- ê²°ê³¼:
    - âŒ Loftê°€ ë¹„í‹€ë¦¼
    - âŒ Surfaceê°€ ì°Œê·¸ëŸ¬ì§
    - âŒ Surfaceê°€ ë¶ˆê·œì¹™í•˜ê²Œ ëŠ˜ì–´ë‚˜ê±°ë‚˜ ì••ì¶•ë¨
    - âŒ Tangent mismatch â†’ GÂ¹/GÂ² ë¶ˆì—°ì†ì²˜ëŸ¼ ë³´ìž„
    - âŒ Surfaceê°€ ê¼¬ì—¬ì„œ í’ˆì§ˆì´ ë–¨ì–´ì§

## ðŸ“Œ ì‹¤ì œ CADì—ì„œ ìžì£¼ ë°œìƒí•˜ëŠ” í˜„ìƒ
### 1) Loftê°€ â€œí•œìª½ìœ¼ë¡œ ì¹˜ìš°ì³ ë³´ìž„â€
- ê³¡ì„ ì˜ íŒŒë¼ë¯¸í„° ì†ë„ê°€ ë‹¤ë¥´ë©´ LoftëŠ” ë¹ ë¥´ê²Œ ë³€í•˜ëŠ” ê³¡ì„  ìª½ìœ¼ë¡œ ëŒë ¤ê°„ë‹¤.
### 2) Loftê°€ â€œë¹„í‹€ë¦° ë¦¬ë³¸â€ì²˜ëŸ¼ ê¼¬ìž„
- ê³¡ì„ ì˜ tangent ë°©í–¥ì´ uì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë§¤í•‘ë˜ê¸° ë•Œë¬¸.
### 3) Loftê°€ â€œìš¸í‰ë¶ˆí‰â€í•´ì§
- ê³¡ì„ ì˜ u ë¶„í¬ê°€ ë‹¤ë¥´ë©´  
    Surfaceì˜ isoparametric lineì´ ë¶ˆê·œì¹™í•˜ê²Œ ëŠ˜ì–´ë‚˜ê±°ë‚˜ ì••ì¶•ëœë‹¤.
### 4) Loft ë‹¨ë©´ì´ â€œë’¤ì§‘í˜€ ë³´ìž„â€
- ê³¡ì„ ì˜ domainì´ ë°˜ëŒ€ ë°©í–¥ì´ë©´ Loftê°€ í•œìª½ì—ì„œ ë’¤ì§‘ížŒë‹¤.
### 5) GÂ¹/GÂ² continuityê°€ ê¹¨ì§
- ê³¡ì„ ì˜ ë¯¸ë¶„ê°’ì´ knot scalingì— ë”°ë¼ ë‹¤ë¥´ê²Œ ìŠ¤ì¼€ì¼ë˜ê¸° ë•Œë¬¸.

### ðŸ”¥ ì˜ˆì‹œë¡œ ë³´ë©´ ë” ëª…í™•í•´ì§„ë‹¤
- Curve A (ê· ì¼í•œ knot)
    - u: 0   0.25   0.5   0.75   1.0
- Curve B (ë¹„ê· ì¼ knot)
    - u: 0   0.01   0.02   0.9   1.0

- LoftëŠ” **ê°™ì€ u** ë¥¼ ì—°ê²°í•˜ë¯€ë¡œ:
    - Aì˜ 0.25 â†” Bì˜ 0.01
    - Aì˜ 0.5 â†” Bì˜ 0.02
    - Aì˜ 0.75 â†” Bì˜ 0.9
- ì´ëŸ° ì‹ìœ¼ë¡œ ì „í˜€ ëŒ€ì‘ë˜ì§€ ì•ŠëŠ” ì ë“¤ì„ ì—°ê²°í•œë‹¤.
- ê²°ê³¼:
    - Loftê°€ ì°¢ì–´ì§„ ê²ƒì²˜ëŸ¼ ë³´ìž„
    - Surfaceê°€ ë¹„í‹€ë¦¼
    - Surface í’ˆì§ˆì´ ê¸‰ê²©ížˆ ë–¨ì–´ì§

### ðŸŽ¯ ê·¸ëž˜ì„œ CAD ì»¤ë„ì€ Loft ì „ì— ë°˜ë“œì‹œ í•˜ëŠ” ìž‘ì—…
- âœ” 1) ëª¨ë“  ê³¡ì„ ì˜ domainì„ [0,1]ë¡œ normalize
    - scale_knot_domain(0,1) ê°™ì€ í•¨ìˆ˜
- âœ” 2) ëª¨ë“  ê³¡ì„ ì˜ knot vectorë¥¼ â€œí†µì¼â€
    - degree, knot multiplicity, knot ìœ„ì¹˜ë¥¼ ë™ì¼í•˜ê²Œ ë§žì¶¤
- âœ” 3) í•„ìš”í•˜ë©´ ê³¡ì„ ì„ reparameterization
    - arc-length ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì‹œ ë¶„í¬
- âœ” 4) tangent ë°©í–¥ì„ ë§žì¶”ê¸° ìœ„í•´ curve.reverse() ìˆ˜í–‰
    - domain ë°©í–¥ í†µì¼ ì´ê±¸ ì•ˆ í•˜ë©´ LoftëŠ” ì ˆëŒ€ ì•ˆì •ì ìœ¼ë¡œ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤.

---

## ðŸŽ¯ Parasolid ê°™ì€ ì»¤ë„ì€ ë‚´ë¶€ì—ì„œ â€œíŒŒë¼ë¯¸í„°í™”ë¥¼ ìžë™ìœ¼ë¡œ ë§žì¶”ëŠ” ìž‘ì—…â€ì„ í•œë‹¤.
- ê·¸ë¦¬ê³  ê·¸ ë°©ì‹ì€ ê³¡ì„  ì¢…ë¥˜ë§ˆë‹¤ ë‹¤ë¥´ë‹¤.

### ðŸ§© 1. ì™œ ê³¡ì„ ë§ˆë‹¤ íŒŒë¼ë¯¸í„°í™”ê°€ ë‹¤ë¥¼ê¹Œ?
- âœ” ì›(circle)
- Parasolidì—ì„œëŠ” ì›ì„ ê°ë„ ê¸°ë°˜ íŒŒë¼ë¯¸í„°í™”ë¡œ ë‹¤ë£¬ë‹¤.
    - ì¦‰, u = 0 â†’ 0Â°, u = 1 â†’ 360Â° ê°™ì€ ì‹ì´ ì•„ë‹ˆë¼  
        u ìžì²´ê°€ ê°ë„(ë¼ë””ì•ˆ) ë¡œ ì“°ì¸ë‹¤.
- ì˜ˆ:
    - u âˆˆ [0, 2Ï€]


- âœ” ì„ (line)
    - ì„ ì€ ê¸¸ì´ ê¸°ë°˜ íŒŒë¼ë¯¸í„°í™”ë¥¼ ì‚¬ìš©í•œë‹¤.
    - ì¦‰, u = 0 â†’ ì‹œìž‘ì , u = L â†’ ëì 
    - ì—¬ê¸°ì„œ Lì€ ì„ ë¶„ì˜ ì‹¤ì œ ê¸¸ì´.
- âœ” NURBS curve
    - NURBSëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì •ê·œí™”ëœ ë„ë©”ì¸ [0,1] ë˜ëŠ” knot vectorì˜ [U0, Um] ë¥¼ ì‚¬ìš©í•œë‹¤.
- ì´ê±´ ê¸°í•˜í•™ê³¼ ë¬´ê´€í•œ **ìˆ˜í•™ì  íŒŒë¼ë¯¸í„°í™”** ë‹¤.

- ðŸ”¥ ë¬¸ì œ: ê³¡ì„ ë§ˆë‹¤ íŒŒë¼ë¯¸í„°í™”ê°€ ë‹¤ë¥´ë©´ Loft/Blend/Offsetì´ ë§ê°€ì§„ë‹¤
- ì˜ˆë¥¼ ë“¤ì–´:
    - ì›: u = ê°ë„
    - ì„ : u = ê¸¸ì´
    - NURBS: u = 0~1


---

