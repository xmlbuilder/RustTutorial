# Match ì½”ë“œ ì‹¤ì „

## ìƒ˜í”Œ ì½”ë“œ

```rust
pub fn is_planar(
    &self,
    planar_tolerance: f64,
    angle_tolerance_radians: f64,
    verts: &[Point3D],
    out_plane: Option<&mut PlaneEquation>,
) -> bool {
    let plane = match self.get_plane_equation(verts) {
        Some(pe) => pe,
        None => {
            if let Some(o) = out_plane {
                *o = PlaneEquation::UNSET;
            }
            return false;
        }
    };
    // ì´í›„ plane ì‚¬ìš©
    ...
}
```

### âœ… ë¬¸ë²•ì ìœ¼ë¡œ OKì¸ ì´ìœ 
- let mut plane;ì€ ì„ ì–¸ë§Œ í•˜ê³ , ì´í›„ ì¡°ê±´ë¬¸ì—ì„œ ì´ˆê¸°í™”ë¨
- if let Some(pe) = ... íŒ¨í„´ ë§¤ì¹­ë„ ì˜¬ë°”ë¦„
- Option<&mut T>ì—ì„œ if let Some(o)ë¡œ êº¼ë‚´ì„œ *o = ... í•˜ëŠ” ê²ƒë„ ì ì ˆí•¨
- return false;ë¡œ ì¡°ê¸° ë°˜í™˜í•˜ëŠ” íë¦„ë„ ìì—°ìŠ¤ëŸ¬ì›€

### âš ï¸ ì„¤ê³„ì ìœ¼ë¡œ ê³ ë ¤í•  ì 

#### 1. plane ì´ˆê¸°í™”ê°€ ì¡°ê±´ë¬¸ ì•ˆì—ë§Œ ìˆìŒ
- ì´ êµ¬ì¡°ëŠ” planeì´ ë°˜ë“œì‹œ ì´ˆê¸°í™”ëœë‹¤ëŠ” ë³´ì¥ì´ ì¡°ê±´ë¬¸ì— ì˜ì¡´
- RustëŠ” ì»´íŒŒì¼ íƒ€ì„ì— â€œëª¨ë“  ê²½ë¡œì—ì„œ ì´ˆê¸°í™”ë¨â€ì„ í™•ì¸í•´ì•¼ í•˜ë¯€ë¡œ
return falseê°€ ì—†ìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë‚  ìˆ˜ ìˆìŒ

#### 2. ìŠ¤ì½”í”„ ì¤‘ì²©ì´ ë¶ˆí•„ìš”í•  ìˆ˜ ìˆìŒ
```rust
{
    if let Some(pe) = ... { ... } else { ... }
}
```
- ì¤‘ê´„í˜¸ {}ë¡œ ê°ì‹¼ ì´ìœ ê°€ ì—†ë‹¤ë©´ ì œê±°í•´ë„ ë¨
- í˜¹ì‹œ planeì„ ì´í›„ì— ë” ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´, let plane = ...ì„ if let ì•ˆì—ì„œ ì„ ì–¸í•´ë„ ë¨


### âœ… ì´ ì½”ë“œì˜ ëª©ì 
- get_plane_equation()ì´ ì„±ê³µí•˜ë©´ â†’ planeì— ê²°ê³¼ ì €ì¥  
- ì‹¤íŒ¨í•˜ë©´ â†’ out_planeì— ì‹¤íŒ¨ ìƒíƒœ ì €ì¥í•˜ê³  â†’ false ë°˜í™˜  
ì¦‰, ì´ ì½”ë“œëŠ” ì¡°ê±´ì— ë”°ë¼ íë¦„ì„ ë¶„ê¸°í•˜ë©´ì„œ ë™ì‹œì— ê°’ì„ ì¶”ì¶œí•˜ëŠ” ì•„ì£¼ RustìŠ¤ëŸ¬ìš´ ë°©ì‹.  


## ìˆ˜ì • ì½”ë“œ
```rust
let plane = match self.get_plane_equation(verts) {
    Some(pe) => pe,
    None => {
        if let Some(o) = out_plane {
            *o = PlaneEquation::UNSET;
        }
        return false;
    }
};

```
### 1. self.get_plane_equation(verts)
- ì´ í•¨ìˆ˜ëŠ” `Option<PlaneEquation>`ì„ ë°˜í™˜í•œë‹¤ê³  ê°€ì •
- ì¦‰, ê²°ê³¼ê°€ Some(pe)ì¼ ìˆ˜ë„ ìˆê³  Noneì¼ ìˆ˜ë„ ìˆìŒ

### 2. match êµ¬ë¬¸ìœ¼ë¡œ ë¶„ê¸°
| ì¡°ê±´      | ì²˜ë¦¬ ë‚´ìš©                       |
|-----------|----------------------------------|
| `Some(pe)` | `plane`ì— `pe` ê°’ì„ ëŒ€ì…         |
| `None`     | `out_plane`ì— `UNSET` ì €ì¥ í›„ `false` ë°˜í™˜ |


`match`ë¥¼ ì“°ë©´ íë¦„ì´ ë” ëª…í™•í•˜ê³ , planeì´ ì´ˆê¸°í™”ë˜ì§€ ì•ŠëŠ” ê²½ë¡œë„ ì—†ì–´ì„œ ì•ˆì „  


## ğŸ’¡ ìš”ì•½
| ë‹¨ê³„ | ì˜ë¯¸            | ë¬¸ë²• ìš”ì†Œ     | ì„¤ëª…                                      |
|------|-----------------|---------------|-------------------------------------------|
| â‘     | ê°’ ì„ ì–¸         | `let`         | ë³€ìˆ˜ ì„ ì–¸ë§Œ í•˜ê³  ì´ˆê¸°í™”ëŠ” ë‚˜ì¤‘ì— ìˆ˜í–‰       |
| â‘¡    | ì¡°ê±´ ë¶„ê¸°       | `{}`          | ì¤‘ê´„í˜¸ë¡œ ë¡œì§ì„ ê°ì‹¸ì„œ ìŠ¤ì½”í”„ë¥¼ ì œí•œ        |
| â‘¢    | íŒ¨í„´ ë§¤ì¹­       | `match`       | `Option` ê°’ì„ ë¶„ê¸°í•˜ì—¬ `Some`/`None` ì²˜ë¦¬   |
| â‘£    | ê°’ ì¶”ì¶œ         | `Some(pe)`    | ê°’ì´ ìˆìœ¼ë©´ êº¼ë‚´ì„œ `plane`ì— ì €ì¥          |
| â‘¤    | ì‹¤íŒ¨ ì²˜ë¦¬       | `None`        | ê°’ì´ ì—†ìœ¼ë©´ `out_plane` ì´ˆê¸°í™” í›„ `return` |


## ğŸ” êµ¬ì¡° ë‹¤ì‹œ ë³´ê¸°
```rust
if let Some(o) = out_plane {
    *o = PlaneEquation::UNSET;
}
```

### í•´ì„:
- out_planeëŠ” Option<&mut PlaneEquation> íƒ€ì…ì´ì—ìš”  
- Some(o)ì¼ ê²½ìš°, oëŠ” &mut PlaneEquation â€” ì¦‰, ë‹¤ë¥¸ ê³³ì— ìˆëŠ” PlaneEquationì„ ê°€ë¦¬í‚¤ëŠ” ê°€ë³€ ì°¸ì¡°  
- *o = ...ëŠ” ê·¸ ì°¸ì¡°ê°€ ê°€ë¦¬í‚¤ëŠ” ì‹¤ì œ PlaneEquation ê°’ì„ ë³€ê²½  

## âœ… ëˆ„ê°€ ì´ˆê¸°í™”ë˜ëŠ”ê°€?
`out_plane`ê°€ `Some(&mut target)`ì¼ ë•Œ,  
`*o = PlaneEquation::UNSET;`ëŠ” targetì„ ì´ˆê¸°í™”  
ì¦‰, ì´ í•¨ìˆ˜ ë°”ê¹¥ì—ì„œ out_planeìœ¼ë¡œ ë„˜ê²¨ì¤€ ì‹¤ì œ PlaneEquation ì¸ìŠ¤í„´ìŠ¤ê°€ ë³€ê²½ë©ë‹ˆë‹¤.  

## ğŸ’¡ ìš”ì•½
| í‘œí˜„                     | ì˜ë¯¸                                 |
|--------------------------|--------------------------------------|
| `out_plane: Option<&mut PlaneEquation>` | ì™¸ë¶€ì—ì„œ ë„˜ê²¨ë°›ì€ ìˆ˜ì • ê°€ëŠ¥í•œ ì°¸ì¡° |
| `if let Some(o)`         | ì°¸ì¡°ê°€ ì¡´ì¬í•  ê²½ìš° êº¼ëƒ„              |
| `*o = PlaneEquation::UNSET` | ì°¸ì¡°ê°€ ê°€ë¦¬í‚¤ëŠ” ì‹¤ì œ ê°’ì„ ë³€ê²½í•¨     |

---

