# 문자열 직렬화 / 역직렬화

이 코드는 Rust에서  크레이트를 사용해 enum을 문자열로 직렬화하거나 역직렬화할 수 있도록 설정한 것입니다.  
하나씩 설명:

## 🧩 #[strum(serialize_all = "none")]란?
이 어트리뷰트는 strum의 EnumString, ToString, Serialize, Deserialize 등의 기능을 사용할 때  
각 variant의 이름을 그대로 문자열로 사용하겠다는 뜻입니다.
- "none"은 변환 없이 그대로 사용하겠다는 의미입니다.
- 예를 들어 DRIVE_MALE_HIC15라는 variant는 "DRIVE_MALE_HIC15"라는 문자열로 직렬화됩니다.

## 🔄 예시: ToString과 EnumString 사용
```rust
use strum_macros::{EnumString, ToString};

#[derive(EnumString, ToString)]
#[strum(serialize_all = "none")]
pub enum InjuryKey {
    DRIVE_MALE_HIC15,
    CODRIVE_MALE_HIC15,
}
```

### ✅ ToString 사용
```rust
let key = InjuryKey::DRIVE_MALE_HIC15;
let s = key.to_string(); // "DRIVE_MALE_HIC15"
```

###  ✅ EnumString 사용
```rust
use std::str::FromStr;
let parsed = InjuryKey::from_str("DRIVE_MALE_HIC15").unwrap();
assert_eq!(parsed, InjuryKey::DRIVE_MALE_HIC15);
```

## 🧠 serialize_all 옵션들
| 옵션                  | 직렬화 결과           |
|-----------------------|------------------------|
| "none"                | DRIVE_MALE_HIC15       |
| "snake_case"          | drive_male_hic15       |
| "SCREAMING_SNAKE_CASE"| DRIVE_MALE_HIC15       |
| "kebab-case"          | drive-male-hic15       |
| "camelCase"           | driveMaleHic15         |


즉, "none"은 enum variant 이름을 그대로 문자열로 사용하겠다는 뜻.  
이 표는 #[strum(serialize_all = "...")]에서 어떤 옵션을 쓰느냐에 따라 enum variant가 문자열로 어떻게 변환되는지를 보여줍니다.


## 🎯 요약
- #[strum(serialize_all = "none")]은 enum variant를 변환 없이 그대로 문자열로 직렬화/역직렬화합니다.
- strum_macros의 ToString, EnumString 등을 함께 써야 실제로 문자열 변환이 작동합니다.
- 이 방식은 JSON 직렬화, 로그 출력, 키 매핑 등에 매우 유용합니다.

---

## #[strum(serialize_all = "...")] 옵션이 역직렬화(EnumString)에도 동일하게 적용:


## 🔁 serialize_all은 EnumString에도 영향을 줍니다
`#[strum(serialize_all = "...")]` 는 ToString뿐 아니라 EnumString에도 영향을 줍니다.  
즉, 어떤 문자열을 enum으로 파싱할 수 있는지를 결정합니다.  

### 예시
```rust
use strum_macros::{EnumString, ToString};
#[derive(EnumString, ToString, Debug, PartialEq)]
#[strum(serialize_all = "snake_case")]
enum InjuryKey {
    DriveMaleHic15,
    CodriveMaleHic15,
}
```

## ✅ 역직렬화 사용
```rust
use std::str::FromStr;
let parsed = InjuryKey::from_str("drive_male_hic15").unwrap();
assert_eq!(parsed, InjuryKey::DriveMaleHic15);

- 여기서 "drive_male_hic15"는 snake_case로 직렬화된 문자열입니다.
- EnumString은 이 문자열을 보고 DriveMaleHic15 variant로 역직렬화합니다.

## 🧠 정리: serialize_all이 EnumString에 미치는 영향
| 옵션                  | 역직렬화 허용 문자열 예시 |
|-----------------------|----------------------------|
| "none"                | DriveMaleHic15             |
| "snake_case"          | drive_male_hic15           |
| "SCREAMING_SNAKE_CASE"| DRIVE_MALE_HIC15           |
| "kebab-case"          | drive-male-hic15           |
| "camelCase"           | driveMaleHic15             |

즉, serialize_all은 직렬화(ToString)와 역직렬화(EnumString) 모두에 적용되어,  
enum을 문자열로 바꾸거나 문자열을 enum으로 바꿀 때 동일한 규칙을 따릅니다.

---

