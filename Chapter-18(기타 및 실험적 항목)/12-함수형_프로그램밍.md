# 함수형 프로그램 예제

## 🧪 예제: 숫자 리스트에서 짝수만 제곱해서 평균 구하기

### ✅ 1. 데이터 정의
```rust
fn main() {
    let numbers = vec![1, 2, 3, 4, 5, 6];
```


### ✅ 2. 반복자 + 클로저로 필터링, 매핑, 수집
```rust
    let squares: Vec<i32> = numbers
        .into_iter()
        .filter(|x| x % 2 == 0)     // 짝수만 필터링
        .map(|x| x * x)             // 제곱
        .collect();                 // Vec<i32>로 수집

```

### ✅ 3. 고차 함수로 평균 계산
```rust
    let sum: i32 = squares.iter().sum();
    let count = squares.len();

    let avg = if count > 0 {
        Some(sum as f64 / count as f64)
    } else {
        None
    };
```


### ✅ 4. 결과 출력
```rust
    println!("짝수 제곱: {:?}", squares);
    match avg {
        Some(val) => println!("평균: {:.2}", val),
        None => println!("데이터 없음"),
    }
}
```


## ✨ 함수형 스타일의 핵심 요소
|  핵심 요소         | 설명 또는 예시                          |
|---------------------|------------------------------------------|
| 클로저              | `|x| x * x` 형태의 익명 함수             |
| 고차 함수           | `filter`, `map`, `fold`, `collect` 등 반복자 메서드 |
| 불변성              | `let`으로 선언된 값은 기본적으로 변경 불가 |
| 표현식 기반         | `if`, `match`는 값으로 평가됨            |
| 함수 추상화         | 로직을 함수로 분리하여 재사용 가능        |

----
# Fold 

## 🧪 예제: 짝수만 제곱해서 총합 구하기
```rust
fn main() {
    let numbers = vec![1, 2, 3, 4, 5, 6];

    let result = numbers
        .into_iter()               // 반복자 생성
        .filter(|x| x % 2 == 0)    // 짝수만 필터링
        .map(|x| x * x)            // 제곱
        .fold(0, |acc, x| acc + x); // 누산기(acc)에 더하기

    println!("결과: {}", result); // 출력: 결과: 56
}
```
```
2² + 4² + 6² = 4 + 16 + 36 = 56
```

## ✨ 핵심 포인트
| 단계     | 설명           |
|-------------------|----------------|
| `into_iter()`     | 반복자 생성     |
| `filter()`        | 짝수 필터링     |
| `map()`           | 값 제곱         |
| `fold()`          | 누산기로 합계 계산 |



## 🧠 고급 예제: 문자열 리스트에서 길이 총합 구하기
```rust
fn main() {
    let words = vec!["rust", "is", "awesome"];

    let total_length = words
        .iter()
        .map(|word| word.len())
        .filter(|&len| len > 2)
        .fold(0, |acc, len| acc + len);

    println!("총 길이: {}", total_length); // 출력: 총 길이: 11
}
```

```
"rust"(4), "awesome"(7) → 총 11
```

### ✅ fold()의 시그니처
```rust
fn fold<B, F>(self, init: B, f: F) -> B
where
    F: FnMut(B, Self::Item) -> B;
```

- init: 초기값
- f: 누산기와 현재 값을 받아서 새로운 누산기 반환

---
