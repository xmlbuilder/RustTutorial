# if 문에서 에러가 나는 이유 파악

## ✅ 에러 코드
```rust
impl Size2D {
    fn compare(lhs: &Size2D, rhs: &Size2D) -> i32 {
        if lhs.x < rhs.x {
            -1
        } else if lhs.x > rhs.x {
            1
        }
        if lhs.y < rhs.y {
            -1
        } else if lhs.y > rhs.y {
            1
        }
        0
    }
}
```

## ✅ 해결 방법: return을 명시적으로 사용하거나 match로 변경
### ✔ 방법 1: return 사용
``rust
impl Size2D {
    fn compare(lhs: &Size2D, rhs: &Size2D) -> i32 {
        if lhs.x < rhs.x {
            return -1;
        } else if lhs.x > rhs.x {
            return 1;
        }

        if lhs.y < rhs.y {
            return -1;
        } else if lhs.y > rhs.y {
            return 1;
        }
        0
    }
}
```

### ✔ 방법 2: match로 더 Rust답게
```rust
use std::cmp::Ordering;

impl Size2D {
    fn compare(lhs: &Size2D, rhs: &Size2D) -> i32 {
        match lhs.x.cmp(&rhs.x) {
            Ordering::Less => -1,
            Ordering::Greater => 1,
            Ordering::Equal => match lhs.y.cmp(&rhs.y) {
                Ordering::Less => -1,
                Ordering::Greater => 1,
                Ordering::Equal => 0,
            },
        }
    }
}
```

###💡 참고: Rust는 if 블록이 값으로 평가될 수 있지만,
그 값을 사용하지 않으면 ()로 간주하기 때문에  
값을 반환하려면 반드시 return 또는 let result = if ... 같은 구조가 필요합니다.  

단지 Rust의 타입 시스템이 엄격해서 생긴 오류. 이제 return을 붙이면 바로 해결됩니다.  

## ✅ 언제 써야 하는가?
| 상황                                | return 필요 여부 | 설명                                                                 |
|-------------------------------------|------------------|----------------------------------------------------------------------|
| if/match 안에서 값을 바로 반환할 때 | ✅ 필요함         | 블록 안의 값이 함수 결과로 쓰일 경우 `return`이 필요함              |
| 블록이 표현식으로 평가되지 않을 때 | ✅ 필요함         | `{}` 안의 값이 사용되지 않으면 Rust는 `()`로 간주 → 타입 오류 발생 |
| 흐름을 조기 종료하고 싶을 때       | ✅ 필요함         | 특정 조건에서 바로 함수 종료하려면 `return`으로 명시해야 함         |
| let result = if ... 구조일 때       | ❌ 불필요         | 블록 자체가 값으로 평가되므로 `return` 없이도 OK                    |
| match에서 중첩 비교 결과 반환할 때  | ✅ 필요함         | `Ordering::Equal => return 0;` 같은 구조에서 명시적 `return` 필요   |


## ✅ 언제 안 써도 되는가?
```rust
let result = if x > y { 1 } else { -1 };
```
이런 식으로 값을 변수에 할당하거나, 블록 자체가 표현식으로 쓰일 때는 return 없이도 OK.

---

